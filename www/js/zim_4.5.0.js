// ZIM js Interactive Media modules http://zimjs.com by Dan Zen http://danzen.com (c) 2016
// Also see http://zimjs.com/code/distill to minify only the functions in your app
// free to use - donations welcome of course! http://zimjs.com/donate

function zid(a){return z_d("1"),document.getElementById(a)}function zss(a){return z_d("2"),document.getElementById(a)?document.getElementById(a).style:void(zon&&zog("zim wrap - zss(): id not found"))}function zgo(a,b,c,d,e,f){if(z_d("3"),!(zot(b)&&""!=b||"_self"==b)){var g="";return c&&(g+="width="+c+","),d&&(g+="height="+d+","),e&&(g+="fullscreen=yes,"),f&&(g+="modal=yes,alwaysRaised=yes"),window.open(a,b,g)}window.location.href=a}function zum(a){if(z_d("4"),!zot(a))return Number(String(a).replace(/[^\d\.\-]/g,""))}function zot(a){return null==a}function zop(a){z_d("5"),zot(a)||(a.stopImmediatePropagation&&a.stopImmediatePropagation(),window.event&&(window.event.cancelBubble=!0))}function zil(){z_d("6");var a=function(a){a||(a=event),a.keyCode&&a.keyCode>=32&&a.keyCode<=40&&a.preventDefault()},b=function(a){a||(a=event),a.preventDefault()},c=b;return window.addEventListener("keydown",a),window.addEventListener("mousewheel",b),window.addEventListener("DOMMouseScroll",c),[a,b,c]}function zet(a){function b(){var b=this;this.on=function(c,d){if(!(zot(a)||zot(c)||zot(d)))for(var e=b.tags,f=0;f<e.length;f++)e[f].addEventListener(c,d)},this.off=function(c,d){if(!(zot(a)||zot(c)||zot(d)))for(var e=b.tags,f=0;f<e.length;f++)e[f].removeEventListener(c,d)},Object.defineProperty(b,"tags",{get:function(){return zot(a)?[]:"string"==typeof a||a instanceof String?document.querySelectorAll(a):"string"==typeof a.innerHTML?[a]:[]},set:function(a){}}),this.css=function(a,c){for(var d=b.tags,e=0;e<d.length;e++)if(1==arguments.length&&arguments[0].constructor==={}.constructor)for(var f in a)d[e].style[f]=a[f];else{if(1==arguments.length)return b.tags[0].style[a];d[e].style[a]=c}},this.prop=function(a,c){if(!zot(a)){for(var d=b.tags,e=[],f=0;f<d.length;f++)if(zot(c))if(a.constructor==={}.constructor)for(var g in a)d[f][g]=a[g];else e.push(d[f][a]);else d[f][a]=c;return zot(c)?e:void 0}}}return z_d("6.1"),new b}function isDUO(a){return 1==a.length&&a[0].constructor==={}.constructor}function zob(a,b,c,d){if(isDUO(b)){z_d("7");var h,i,e=b[0],f=zot(c)?a.toString().split(/\n/,1)[0].match(/\((.*)\)/)[1].replace(/\s+/g,"").split(","):c.replace(/\s+/g,"").split(","),g=[];for(h=0;h<f.length;h++)i=f[h].split("=")[0],f[h]=i,g.push(e[i]);for(h in e)f.indexOf(h)<0&&zon&&zog(a,"bad argument "+h);var j;return!(j=a.prototype.isPrototypeOf(d)?new(a.bind.apply(a,[null].concat(g))):a.apply(null,g))||j}}function z_d(a){zim&&zim.DISTILL&&zim.distillery.push(a)}function zimify(a){return z_d("83.3"),zim.addDisplayMembers(a),a}"undefined"==typeof zon&&(zon=!1);var zog=console.log.bind(console),zim=function(a){function b(a,b){b?(a.mouseChildren=!0,a.mouseEnabled=!0,a._enabled=!0):(a.mouseChildren=!1,a.mouseEnabled=!1,a._enabled=!1)}return a.shuffle=function(a){if(z_d("8"),!zot(a)){var c,d,b=a.length;if(0==b)return a;for(;--b;)c=Math.floor(Math.random()*(b+1)),d=a[b],a[b]=a[c],a[c]=d;return a}},a.rand=function(a,b,c,d){z_d("9"),zot(a)&&(a=0),zot(b)&&(b=0),a%1==0&&b%1==0||(c=!1),zot(c)&&(c=!0),d&&Math.random()>.5&&(a*=-1,b*=-1),c&&(a>b?a++:b>a&&b++);var e;return 0==a&&0==b?Math.random():(e=0==b?Math.random()*a:Math.min(a,b)+Math.random()*(Math.max(a,b)-Math.min(a,b)),c?Math.floor(e):e)},a.loop=function(b,c,d,e,f,g){var i,h="obj, call, reverse, step, start, end";if(i=zob(a.loop,arguments,h))return i;if(z_d("9.5"),!zot(b)&&!zot(c)){zot(d)&&(d=!1),zot(e)&&(e=1);var j="number"==typeof b?"number":b.constructor===Array?"array":b.constructor==={}.constructor?"object":"invalid";if("invalid"!=j)if("number"==j||"array"==j){var k="number"==j?b:b.length;if(zot(f)&&(f=d?k-1:0),zot(g)&&(g=d?0:k-1),d)for(var l=f;l>=g;l-=e){if("number"==j)var m=c(l,f,g);else var m=c(b[l],l,f,g,b);if("undefined"!=typeof m)return m}else for(var l=f;l<=g;l+=e){if("number"==j)var m=c(l,k);else var m=c(b[l],l,f,g,b);if("undefined"!=typeof m)return m}}else if("object"==j){var k=0,n=[];for(var l in b)k++,n.push(l);if(zot(f)&&(f=d?k-1:0),zot(g)&&(g=d?0:k-1),d)for(var l=f;l>=g;l-=e){var m=c(n[l],b[n[l]],l,f,g,b);if("undefined"!=typeof m)return m}else for(var l=f;l<=g;l+=e){var m=c(n[l],b[n[l]],l,f,g,b);if("undefined"!=typeof m)return m}}}},a.copy=function(b){if(z_d("10"),null==b||"object"!=typeof b)return b;if(b instanceof Array)return b.slice(0);if(b instanceof Object){copy={};for(var c in b)b.hasOwnProperty(c)&&(copy[c]=a.copy(b[c]));return copy}},a.arraysEqual=function(b,c,d){if(z_d("11"),zot(b)||zot(c))return!1;if(zot(d)&&(d=!0),b.length!=c.length)return!1;for(var e=0;e<b.length;e++)if(b[e]instanceof Array&&c[e]instanceof Array){if(!a.arraysEqual(b[e],c[e],d))return!1}else{if(d&&b[e]!=c[e])return!1;if(!d)return a.arraysEqual(b.sort(),c.sort(),!0)}return!0},a.isEmpty=function(a){if(z_d("11.5"),!zot(a)){var b=0;for(var c in a){b++;break}return 0==b}},a.merge=function(){z_d("12");var b,c,a={};for(b=0;b<arguments.length;b++)for(c in arguments[b])arguments[b].hasOwnProperty(c)&&(a[c]=arguments[b][c]);return a},a.decimals=function(a,b,c){if(z_d("13"),zot(a)||0==a)return 0;zot(b)&&(b=1),zot(c)&&(c=!1);var d=Math.round(a*Math.pow(10,b))/Math.pow(10,b);if(c&&b>0&&0!=d){var e=String(d).indexOf("."),f=String(d).length;e<0&&(e=f++,d+=".");for(var g=0;g<b-(f-e-1);g++)d+="0"}return d},a.Damp=function(b,c){z_d("14");var e,d="startValue, damp";return(e=zob(a.Damp,arguments,d,this))?e:(this.lastValue=zot(b)?0:b,void(this.damp=zot(c)?.1:c))},a.Damp.prototype.convert=function(a){return this.lastValue=this.lastValue+(a-this.lastValue)*this.damp},a.Damp.prototype.immediate=function(a){this.lastValue=a},a.Proportion=function(b,c,d,e,f,g){var i,h="baseMin, baseMax, targetMin, targetMax, factor, targetRound";if(i=zob(a.Proportion,arguments,h,this))return i;z_d("15"),zot(d)&&(d=0),zot(e)&&(e=1),zot(f)&&(f=1),zot(g)&&(g=!1);var j,k,l;j=b,this.convert=function(a){if(!isNaN(a))return a=Math.max(a,b),a=Math.min(a,c),k=(a-b)/(c-b),l=f>0?d+(e-d)*k:e-(e-d)*k,g&&(l=Math.round(l)),l}},a.ProportionDamp=function(b,c,d,e,f,g,h){function t(){isNaN(l)||(l=Math.max(l,b),l=Math.min(l,c),m=(l-b)/(c-b),n=e-d,o=g>0?d+n*m:e-n*m,q=o,p=q-r,r+=p*k.damp)}var j,i="baseMin, baseMax, targetMin, targetMax, damp, factor, targetRound";if(j=zob(a.ProportionDamp,arguments,i,this))return j;z_d("16"),zot(d)&&(d=0),zot(e)&&(e=1),zot(f)&&(f=.1),zot(g)&&(g=1),zot(h)&&(h=!1),this.damp=f;var l,m,n,o,p,k=this,q=0,r=0;l=b,r=d;var s=setInterval(t,20);this.immediate=function(a){k.convert(a),t(),r=o,h&&(r=Math.round(r))},this.convert=function(a){return l=a,h?Math.round(r):r},this.dispose=function(){return clearInterval(s),!0}},a.Dictionary=function(){z_d("17"),this.length=0;var a=this.objects=[],b=this.values=[];this.add=function(c,d){zot(c)||(a.push(c),b.push(d),this.length++)},this.at=function(c){if(!zot(c)){var d=a.indexOf(c);return d>-1?b[d]:null}},this.remove=function(c){if(!zot(c)){var d=a.indexOf(c);d>-1&&(a.splice(d,1),b.splice(d,1),this.length--)}},this.dispose=function(){return a=null,b=null,this.length=null,!0}},a.swapProperties=function(a,b,c){if(z_d("17.1"),zot(b)||zot(c)||zot(b[a])||zot(c[a]))return!1;var d=c[a];return c[a]=b[a],b[a]=d,!0},a.swapHTML=function(b,c){return z_d("17.2"),a.swapProperties("innerHTML",zid(b),zid(c))},a.scrollX=function(b,c){return z_d("18"),a.abstractScroll("X","Left",b,c)},a.scrollY=function(b,c){return z_d("19"),a.abstractScroll("Y","Top",b,c)},a.abstractScroll=function(b,c,d,e){z_d("20");var f="X"==b?"Y":"X";if(zot(d)){var g=0,h=navigator.appName,i=navigator.userAgent.indexOf("Safari");if(i!=-1||"Safari"==h)var g=1;return g||"CSS1Compat"!=document.compatMode?document.body["scroll"+c]:document.documentElement["scroll"+c]}if(zot(e))window.scrollTo(a["scroll"+f](),d);else{var j=50;e<j&&(e=j);var k=e/j,l=a["scroll"+b](),m=d-l,n=m/k,o=0,p=setInterval(function(){o++,l+=n,window.scrollTo(a["scroll"+f](),l),o>=k&&(window.scrollTo(a["scroll"+f](),d),clearInterval(p))},j)}return d},a.windowWidth=function(){return z_d("21"),isNaN(window.innerWidth)?window.clientWidth:window.innerWidth},a.windowHeight=function(){return z_d("22"),isNaN(window.innerHeight)?window.clientHeight:window.innerHeight},a.urlEncode=function(a){z_d("23");var a=(a+"").toString();return encodeURIComponent(a).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A").replace(/%20/g,"+")},a.urlDecode=function(a){return z_d("24"),decodeURIComponent((a+"").replace(/\+/g,"%20"))},a.setCookie=function(a,b,c){if(z_d("25"),!zot(a)&&!zot(b)){if(c){var d=new Date;d.setTime(d.getTime()+24*c*60*60*1e3);var e="; expires="+d.toGMTString()}else var e="";return document.cookie=a+"="+escape(b)+e+"; path=/",!0}},a.getCookie=function(a){z_d("26");var d,b=document.cookie.split(/;\s*/),c=new Array;for(i=0;i<b.length;i++)d=b[i].split("="),c[d[0]]=d[1];if("undefined"!=typeof c[a])return unescape(c[a])},a.deleteCookie=function(b){return z_d("27"),!zot(a.getCookie(b))&&(a.setCookie(b,"",-1),!0)},a.mobile=function(a){return z_d("28"),zot(a)&&(a=!0),/ip(hone|od|ad)/i.test(navigator.userAgent)?"ios":/android|nexus/i.test(navigator.userAgent)?"android":/blackberry/i.test(navigator.userAgent)?"blackberry":/nokia|phone|mobile/i.test(navigator.userAgent)?"windows":/opera mini|webos/i.test(navigator.userAgent)?"other":!(!a||void 0===window.orientation)},a.async=function(b,c){if(z_d("29"),!zot(b)){var d=document.createElement("script");if(c){var e=c.toString().split(/\n/,1)[0].match(/^function\s?([^\s(]*)/)[1];a.async[e]=function(){var a=d;return function(b){a&&a.parentNode.removeChild(a),a=null,c(b)}}()}else a.async.z_s&&a.async.z_s.parentNode&&a.async.z_s.parentNode.removeChild(a.async.z_s),a.async.z_s=d;b.match(/\?/)||(b+="?"),d.setAttribute("src",b+"&r="+Math.random()),document.getElementsByTagName("head")[0].appendChild(d)}},"undefined"==typeof createjs?(zon&&zog("ZIM >= 4.3.0 requires createjs namespace to be loaded (import createjs before zim)"),a):(a.ANIMATE=!0,a.Ticker={stages:null,myUpdate:null,alwaysList:new a.Dictionary,list:new a.Dictionary,setFPS:function(b,c){zot(b)&&zot(c)?(b=30,c=60):zot(b)?b=30:zot(c)&&(c=b),a.Ticker.framerate=createjs.Ticker.framerate=a.mobile()?b:c},add:function(b,c){z_d("30");var d=a.Ticker;return d.framerate||d.setFPS(),zot(c)||!c.update?void zog("zim.Ticker.add() - needs stage parameter"):zot(b)||"function"!=typeof b?void zog("zim.Ticker.add() - only add functions"):(d.ticker||(d.ticker=createjs.Ticker.on("tick",d.call)),d.list.at(c)?d.list.at(c).push(b):d.list.add(c,[b]),b)},call:function(){for(var c,d,b=a.Ticker,e=0;e<b.list.length;e++){c=b.list.objects[e],d=b.list.values[e];for(var f=0;f<d.length;f++)d[f]();b.alwaysList.at(c)?c.update():d.length>0&&(zot(b.update)&&!a.OPTIMIZE?c.update():b.update&&c.update())}for(e=0;e<b.alwaysList.length;e++)c=b.alwaysList.objects[e],null==b.list[c]&&c.update()},always:function(b){z_d("30");var c=a.Ticker;return c.framerate||c.setFPS(),zot(b)||!b.update?void zog("zim.Ticker.always(stage) - needs stage parameter"):(c.alwaysList.add(b,!0),void(c.ticker||(c.ticker=createjs.Ticker.on("tick",c.call))))},alwaysOff:function(b){var c=a.Ticker;return zot(b)||!b.update?void zog("zim.Ticker.alwaysOff(stage) - needs stage parameter"):void c.alwaysList.remove(b)},remove:function(b){var c=a.Ticker;if(zot(b)||"function"!=typeof b)return void zog("zim.Ticker - only remove functions");for(var e,d=0,f=0;f<c.list.length;f++){e=c.list.objects[f];var g=c.list.values[f].indexOf(b);g>-1&&c.list.values[f].splice(g,1),d+=c.list.values[f].length}c.alwaysList.length>0||0==d&&(createjs.Ticker.off("tick",c.ticker),c.ticker=null)},removeAll:function(b){for(var e,c=a.Ticker,d=0,f=0;f<c.list.length;f++)e=c.list.objects[f],(zot(b)||b===e)&&(c.list.values[f]=[]),d+=c.list.values[f].length;c.alwaysList.length>0||0==d&&(createjs.Ticker.off("tick",c.ticker),c.ticker=null)},dispose:function(b){for(var e,c=a.Ticker,d=0,f=c.list.length-1;f>=0;f--)e=c.list.objects[f],zot(b)||b===e?(c.list.remove(b),c.alwaysList.remove(b)):d+=c.list.values[f].length;if(!(c.alwaysList.length>0))return 0==d&&(createjs.Ticker.off("tick",c.ticker),c.ticker=null),!0}},Object.defineProperty(a.Ticker,"update",{get:function(){return a.Ticker.myUpdate},set:function(b){var c=a.Ticker;"boolean"!=typeof b&&(b=null),c.myUpdate=b,c.myUpdate===!1&&(createjs.Ticker.off("tick",c.ticker),c.alwaysList=new a.Dictionary)}}),a.drag=function(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){function z(){u=0,v=0,b.zimDragRect&&(h?(x=a.boundsToGlobal(b.parent,b.zimDragRect),j&&(y=b.zimDragRect)):(x=b.zimDragRect,j&&(y=a.boundsToGlobal(b.parent,b.zimDragRect,!0)))),x&&p&&(w=b.parent.localToGlobal(b.x,b.y),Q(b,w.x,w.y)),k&&(b.zimDragMoving=!0,S())}function A(){b.zimDragTicker&&a.Ticker.remove(b.zimDragTicker)}function Q(c,d,e){if(zot(c)&&(c=P?P:b),c.parent&&c.getStage()){if(zot(d)||zot(e)){var f=c.parent.localToGlobal(c.x,c.y);u=v=0,b.zimDragRect&&(h?(x=a.boundsToGlobal(c.parent,b.zimDragRect),j&&(y=c.zimDragRect)):(x=b.zimDragRect,j&&(y=a.boundsToGlobal(c.parent,b.zimDragRect,!0)))),d=f.x,e=f.y,k&&(J=c.x,K=c.y,P=c,B.immediate(J),C.immediate(K))}var i,g=c.parent.globalToLocal(d,e);k&&m?"vertical"==m?(i=R(c,g.x-u,g.y-v),c.x=i.x,c.y=g.y-v):"horizontal"==m?(i=R(c,g.x-u,g.y-v),c.x=g.x-u,c.y=i.y):(c.x=g.x-u,c.y=g.y-v):(i=R(c,g.x-u,g.y-v),c.x=i.x,c.y=i.y),c.zimMask&&(c.zimMask.x=c.x,c.zimMask.y=c.y)}}function R(a,b,c){if(x)if(j){var d=a.getBounds().width,e=a.getBounds().height,f=a.getBounds().x,g=a.getBounds().y;d<y.width?b=y.x+(y.width-d)/2+(a.regX-f):(b-(a.regX-f)>y.x&&(b=y.x+(a.regX-f)),b-(a.regX-f)+d<y.x+y.width&&(b=y.x+y.width+(a.regX-f)-d)),a.height<y.height?c=y.y+(y.height-e)/2+(a.regY-g):(c-(a.regY-g)>y.y&&(c=y.y+(a.regY-g)),c-(a.regY-g)+e<y.y+y.height&&(c=y.y+y.height+(a.regY-g)-e))}else{var h=a.parent.localToGlobal(b,c);b=Math.max(x.x,Math.min(x.x+x.width,h.x)),c=Math.max(x.y,Math.min(x.y+x.height,h.y)),h=a.parent.globalToLocal(b,c),b=h.x,c=h.y}return{x:b,y:c}}function S(){function d(a,c,d,e,f){Math.abs(a.x-N)<.1&&Math.abs(a.y-O)<.1?(b.zimDragMoving=!1,a.x=e,a.y=f,a.dispatchEvent("slidestop")):(N=c,O=d)}var c=b.getStage();b.zimDragTicker=function(){if(P||(P=b),t){var a=P.parent.globalToLocal(c.mouseX,c.mouseY);E++,F.push(a.x),G.push(a.y),E>=D?(L=F.shift(),M=G.shift()):(L=F[0],M=G[0])}else{if(!b.zimDragMoving)return;var e=J+H-L,f=K+I-M;if(x){var g=R(P,e,f);e=g.x,f=g.y}if(m)P.x=B.convert(e),P.y=C.convert(f),d(P,P.x,P.y,e,f);else{var g=R(P,B.convert(e),C.convert(f));P.x=g.x,P.y=g.y,d(P,P.x,P.y,P.x,P.y)}}},a.Ticker.add(b.zimDragTicker,c)}var r,q="obj, rect, overCursor, dragCursor, currentTarget, swipe, localBounds, onTop, surround, slide, slideDamp, slideSnap, reg, removeTweens, startBounds";if(r=zob(a.drag,arguments,q))return r;if(z_d("31"),!zot(b)&&b.on){b.cursor=zot(d)?"pointer":d,zot(f)&&(f=!1),zot(g)&&(g=!1),zot(h)&&(h=!1),zot(i)&&(i=!0),zot(j)&&(j=!1),zot(k)&&(k=!1),zot(l)&&(l=.3),zot(m)&&(m=!0);var s=["horizontal","vertical","auto"];m!==!0&&s.indexOf(m)<0&&(m=!1),zot(n)&&(n=!1),zot(o)&&(o=!0),zot(p)&&(p=!0),a.setSwipe(b,g),b.zimDragRect=c,b.zimLocalBounds=h;var u,v,w,x,y,t=!1;if(b.zimAdded=b.on("added",z,null,!0),b.zimRemoved=b.on("removed",A,null,!0),b.parent&&z(),k)var B=new a.Damp(b.x,l),C=new a.Damp(b.y,l),D=3,E=0,F=[],G=[],H=b.x,I=b.y,J=b.x,K=b.y,L=b.x,M=b.y,N=-1e4,O=-1e4;var P;return b.zimDown=b.on("mousedown",function(c){if(P=f?c.currentTarget:c.target,b.zimDragRect&&!P.getBounds())return void zog("zim.drag() - drag object needs bounds set");t=!0,b.getStage().mouseMoveOutside=!0,k||(b.zimDragTicker&&a.Ticker.remove(b.zimDragTicker),b.zimDragTicker=a.Ticker.add(function(){},b.getStage())),o&&createjs.Tween.removeTweens(P),i&&P.parent.setChildIndex(P,P.parent.numChildren-1);var d=P.parent.globalToLocal(c.stageX,c.stageY);n&&(P.x=d.x,P.y=d.y),u=d.x-P.x,v=d.y-P.y,b.zimDragRect&&(h?(x=a.boundsToGlobal(P.parent,b.zimDragRect),j&&(y=b.zimDragRect)):(x=b.zimDragRect,j&&(y=a.boundsToGlobal(P.parent,b.zimDragRect,!0)))),b.cursor=zot(e)?"pointer":e,k&&(E=0,F=[d.x],G=[d.y],N=-1e4,O=-1e4,b.zimDragMoving=!0)},!0),b.zimMove=b.on("pressmove",function(a){t&&Q(P,a.stageX,a.stageY)},!0),b.zimPosition=Q,b.zimUp=b.on("pressup",function(c){if(t)if(b.cursor=zot(d)?"pointer":d,k){var e=P.parent.globalToLocal(c.stageX,c.stageY);t=!1,H=e.x,I=e.y,J=P.x,K=P.y,B.immediate(P.x),C.immediate(P.y)}else b.zimDragTicker&&a.Ticker.remove(b.zimDragTicker)},!0),b}},a.noDrag=function(b){if(z_d("32"),!zot(b)&&b.on)return b.cursor="default",a.setSwipe(b,!0),b.off("added",b.zimAdded),b.off("removed",b.zimRemoved),b.off("mousedown",b.zimDown),b.off("pressmove",b.zimMove),b.off("pressup",b.zimUp),a.Ticker&&b.zimDragSlide&&a.Ticker.remove(b.zimDragSlide),b.zimDragMoving=b.zimAdded=b.zimRemoved=b.zimDown=b.zimMove=b.zimUp=b.zimDragRect=b.zimDragSlide=null,b},a.dragRect=function(a,b){if(z_d("33"),!zot(a)&&a.on&&!zot(b))return a.zimDragRect=b,a.zimDragMoving=!0,a.zimPosition&&a.zimPosition(),a},a.setSwipe=function(a,b){function c(b){for(var e,d=b.getNumChildren(),f=0;f<d;f++)e=b.getChildAt(f),e.zimNoSwipe=a.zimNoSwipe,e instanceof createjs.Container&&c(e)}if(z_d("34"),!zot(a)&&a.on)return a.zimNoSwipe=!b||null,a instanceof createjs.Container&&c(a),a},a.hitTestPoint=function(a,b,c){if(z_d("35"),!a.stage)return!1;if(!zot(a)&&a.globalToLocal){var d=a.globalToLocal(b,c),e=a.getBounds();if(e){if(d.x>e.x+e.width||d.x<e.x)return;if(d.y>e.y+e.height||d.y<e.y)return}return a.hitTest(d.x,d.y)}},a.hitTestReg=function(a,b){if(z_d("36"),!a.stage||!b.stage)return!1;if(!zot(a)&&!zot(b)&&a.localToLocal&&b.localToLocal){var c=b.localToLocal(b.regX,b.regY,a),d=a.getBounds();if(d){if(c.x>d.x+d.width||c.x<d.x)return;if(c.y>d.y+d.height||c.y<d.y)return}return a.hitTest(c.x,c.y)}},a.hitTestRect=function(b,c,d){if(z_d("37"),!b.stage||!c.stage)return!1;if(!zot(b)&&!zot(c)&&b.hitTest&&c.getBounds){zot(d)&&(d=0);var e=c.getBounds();if(!e)return void zog("zim create - hitTestRect():\n please setBounds() on param b object");var f=b.getBounds();if(!f||a.hitTestBounds(b,c)){var g=e.x+e.width/2,h=e.y+e.height/2,i=c.localToLocal(g,h,b);if(b.hitTest(i.x,i.y))return!0;for(var j,k,i,l=0;l<=d;l++){if(j=e.width*(l+1)/(d+1),k=e.height*(l+1)/(d+1),i=c.localToLocal(e.x+j,e.y,b),b.hitTest(i.x,i.y))return!0;if(i=c.localToLocal(e.x+e.width,e.y+k,b),b.hitTest(i.x,i.y))return!0;if(i=c.localToLocal(e.x+e.width-j,e.y+e.height,b),b.hitTest(i.x,i.y))return!0;if(i=c.localToLocal(e.x,e.y+e.height-k,b),b.hitTest(i.x,i.y))return!0}}}},a.hitTestCircle=function(b,c,d){if(z_d("38"),!b.stage||!c.stage)return!1;if(!zot(b)&&!zot(c)&&b.hitTest&&c.getBounds){zot(d)&&(d=8);var e=c.getBounds();if(!e)return void zog("zim create - hitTestCircle():\n please setBounds() on param b object");var f=b.getBounds();if(!f||a.hitTestBounds(b,c)){var g=e.x+e.width/2,h=e.y+e.height/2,i=c.localToLocal(g,h,b);if(b.hitTest(i.x,i.y))return!0;for(var k,l,m,j=(e.width+e.height)/2/2,n=0;n<d;n++)if(k=n/d*2*Math.PI,l=g+j*Math.cos(k),m=h+j*Math.sin(k),i=c.localToLocal(l,m,b),b.hitTest(i.x,i.y))return!0}}},a.hitTestBounds=function(b,c,d){function k(a,b){return!(a.x>=b.x+b.width||a.x+a.width<=b.x||a.y>=b.y+b.height||a.y+a.height<=b.y)}if(z_d("39"),!b.stage||!c.stage)return!1;if(!zot(b)&&!zot(c)&&b.getBounds&&c.getBounds){var e=!1;d&&d.graphics&&(e=!0);var f=b.getBounds(),g=c.getBounds();if(!f||!g)return void zog("zim create - hitTestBounds():\n please setBounds() on both objects");var h=a.boundsToGlobal(b),i=a.boundsToGlobal(c);if(e){var j=d.graphics;j.c(),j.ss(1).s("blue"),j.r(h.x,h.y,h.width,h.height),j.s("green"),j.r(i.x,i.y,i.width,i.height),d.getStage().update()}return k(h,i)}},a.boundsToGlobal=function(a,b,c){if(z_d("40"),!zot(a)&&a.getBounds){zot(c)&&(c=!1);var d=a.getBounds();if(!d&&zot(b))return void zog("zim create - boundsToGlobal():\n please setBounds() on object (or a rectangle)");if(b&&(d=b),c)var e=a.globalToLocal(d.x,d.y),f=a.globalToLocal(d.x+d.width,d.y),g=a.globalToLocal(d.x+d.width,d.y+d.height),h=a.globalToLocal(d.x,d.y+d.height);else var e=a.localToGlobal(d.x,d.y),f=a.localToGlobal(d.x+d.width,d.y),g=a.localToGlobal(d.x+d.width,d.y+d.height),h=a.localToGlobal(d.x,d.y+d.height);var i=Math.min(e.x,f.x,g.x,h.x),j=Math.min(e.y,f.y,g.y,h.y),k=Math.max(e.x,f.x,g.x,h.x),l=Math.max(e.y,f.y,g.y,h.y);return new createjs.Rectangle(i,j,k-i,l-j)}},a.hitTestGrid=function(a,b,c,d,e,f,g,h,i,j,k,l,m){if(z_d("41"),!a.stage)return!1;if(!zot(a)&&!l){var n=a.globalToLocal(f,g);f=n.x,g=n.y}zot(h)&&(h=0),zot(i)&&(i=0),zot(j)&&(j=0),zot(k)&&(k=0);var o=b/d,p=c/e,q=Math.min(d-1,Math.max(0,Math.floor((f-h)/o))),r=Math.min(e-1,Math.max(0,Math.floor((g-i)/p)));if(!(f-h>o*(q+1)-j||f-h<o*q||g-i>p*(r+1)-k||g-i<p*r)){var s=r*d+q;return zot(m)||"index"==m?s:"col"==m?q:"row"==m?r:"array"==m?[s,q,r]:void 0}},a.move=function(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A){var C,B="target, x, y, time, ease, call, params, wait, loop, loopCount, loopWait, loopCall, loopParams, rewind, rewindWait, rewindCall, rewindParams, sequence, sequenceCall, sequenceParams, sequenceReverse, ticker, props, protect, override, from";if(C=zob(a.move,arguments,B))return C;if(z_d("44"),!zot(c)||!zot(d)){var D={x:c,y:d};return zot(c)?D={y:d}:zot(d)&&(D={x:c}),a.animate(b,D,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,null,y,z,A)}},a.animate=function(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A){function O(){N=!0,b.zimBusy||(b.zimBusy={});for(var a in c)b.zimBusy[a]=!0}function Z(){I=b.zimTween=createjs.Tween.get(b,w).to(c,H,createjs.Ease[e]).call(ca).wait(W).to(V,H,createjs.Ease[U]).call(ba).wait(R)}function $(){I=b.zimTween=createjs.Tween.get(b,w).to(c,H,createjs.Ease[e]).wait(W).to(V,H,createjs.Ease[U]).call(ba).wait(R)}function _(){I=b.zimTween=createjs.Tween.get(b,w).to(c,H,createjs.Ease[e]).call(ba).wait(R)}function ba(){if(w.loop){if(S&&"function"==typeof S&&S(T),!(P>0))return;if(Q<P)return void Q++}if(f&&"function"==typeof f&&f(g),N){for(var d in c)delete b.zimBusy[d];a.isEmpty(b.zimBusy)&&(b.zimBusy=null)}I.setPaused(!0),b.zimTween=null,b.pauseZimAnimate=b.pauseZimMove=null,b.stopZimAnimate=b.stopZimMove=null,!x&&v&&setTimeout(function(){a.Ticker.remove(aa)},200)}function ca(){X&&"function"==typeof X&&X(Y)}var C,B="target, obj, time, ease, call, params, wait, loop, loopCount, loopWait, loopCall, loopParams, rewind, rewindWait, rewindCall, rewindParams, sequence, sequenceCall, sequenceParams, sequenceReverse, ticker, props, css, protect, override, from";if(C=zob(a.animate,arguments,B))return C;if(z_d("45"),0!=a.ANIMATE){var D={override:!0};if(zot(i)||(D.loop=i),zot(j)||(D.count=j),zot(k)||(D.loopWait=k),zot(l)||(D.loopCall=l),zot(m)||(D.loopParams=m),zot(n)||(D.rewind=n),zot(o)||(D.rewindWait=o),zot(p)||(D.rewindCall=p),zot(q)||(D.rewindParams=q),zot(c.scale)||(c.scaleX=c.scaleY=c.scale,delete c.scale),zot(w)||(D=a.merge(D,w)),w=D,zot(r)&&(r=0),r>0&&b.addChild){for(var E=[],F=0;F<b.numChildren;F++)E.push(b.getChildAt(F));b=E}if(b instanceof Array){u&&b.reverse();for(var G=0,F=0;F<b.length;F++)-function(){var i=F;if(A){var j;b[F].zimObj={};for(var k in c)j=c[k],b[F].zimObj[k]=b[F][k],b[F][k]=j}else b[F].zimObj=c;setTimeout(function(){var c=b[G];if(G++,a.animate(c,c.zimObj,d,e,f,g,h,null,null,null,null,null,null,null,null,null,null,null,null,null,v,a.copy(w),x,y,z),i==b.length-1&&s){var j=d?d:1e3;w&&w.rewind&&(j+=(d?d:1e3)+(w.rewindWait?w.rewindWait:0)),w&&w.loop&&w.loopWait&&(j+=w.loopWait),setTimeout(function(){s(t)},j)}},r*F)}()}else if(!zot(b)){if(v&&(zot(b.getStage)||zot(b.getStage())))return void(zon&&zog("zim.move(), zim.animate() - please add target to stage before animating"));var H=d;zot(H)&&(H=1e3),zot(e)&&(e="quadInOut"),zot(h)&&(h=0),zot(w)&&(w={override:!0}),zot(g)&&(g=b),zot(v)&&(v=!0),zot(x)&&(x=!1),zot(y)&&(y=!1),zot(A)&&(A=!1),zot(z)||(w.override=z);var I;for(var J in c){if(!b.zimBusy)break;b.zimBusy[J]&&delete c[J]}if(!a.isEmpty(c)){if(A){var K,L={};for(var M in c)K=c[M],L[M]=b[M],b[M]=K;c=L}var N=!1;if((y||w.loop||w.rewind)&&O(),w.loop&&!zot(w.count)){var P=w.count;delete w.count;var Q=1}var R=0;w.loopWait&&(R=w.loopWait,delete w.loopWait);var S;w.loopCall&&(S=w.loopCall,delete w.loopCall);var T=b;if(w.loopParams&&(T=w.loopParams,delete w.loopParams),w.rewind){if(e){var U=e;U.indexOf("InOut")==-1&&(U.indexOf("Out")!=-1?U=U.replace("Out","In"):U.indexOf("In")!=-1&&(U=U.replace("In","Out")))}var V={},W=0;for(var F in c)x?V[F]=b.style[F]:V[F]=b[F];if(delete w.rewind,w.rewindWait&&(W=w.rewindWait,delete w.rewindWait),w.rewindCall){var X=w.rewindCall,Y=w.rewindParams;zot(Y)&&(Y=b),delete w.rewindCall,delete w.rewindParams,h>0?I=b.zimTween=createjs.Tween.get(b,{override:w.override}).wait(h).call(Z):Z()}else h>0?I=b.zimTween=createjs.Tween.get(b).wait(h,{override:w.override}).call($):$()}else h>0?I=b.zimTween=createjs.Tween.get(b,{override:w.override}).wait(h).call(_):_();if(!x&&v)var aa=b.zimTicker=a.Ticker.add(function(){b.zimMask&&(a.copyMatrix(b.zimMask,b),b.zimMask.regX=b.regX,b.zimMask.regY=b.regY)},b.getStage());return b.stopZimAnimate=b.stopZimMove=function(){b.zimBusy=null,createjs.Tween.removeTweens(b),!x&&v&&setTimeout(function(){a.Ticker.remove(b.zimTicker)},200)},b.pauseZimAnimate=b.pauseZimMove=function(c){zot(c)&&(c=!0),c?(b.zimTween.setPaused(!0),!x&&v&&setTimeout(function(){a.Ticker.remove(aa)},200)):(b.zimTween.setPaused(!1),!x&&v&&a.Ticker.add(aa,b.getStage()))},b}}}},a.loop=function(b,c,d,e,f,g){var i,h="obj, call, reverse, step, start, end";if(i=zob(a.loop,arguments,h))return i;if(z_d("45.3"),!zot(b)&&!zot(c)){zot(d)&&(d=!1),zot(e)&&(e=1);var j="number"==typeof b?"number":b.constructor===Array?"array":b.constructor==={}.constructor?"object":"container";if("container"!=j||b.addChild)if("number"==j||"array"==j){var k="number"==j?b:b.length;if(zot(f)&&(f=d?k-1:0),zot(g)&&(g=d?0:k-1),d)for(var l=f;l>=g;l-=e){if("number"==j)var m=c(l,f,g);else var m=c(b[l],l,f,g,b);if("undefined"!=typeof m)return m}else for(var l=f;l<=g;l+=e){if("number"==j)var m=c(l,k);else var m=c(b[l],l,f,g,b);if("undefined"!=typeof m)return m}}else if("object"==j){var k=0,n=[];for(var l in b)k++,n.push(l);if(zot(f)&&(f=d?k-1:0),zot(g)&&(g=d?0:k-1),d)for(var l=f;l>=g;l-=e){var m=c(n[l],b[n[l]],l,f,g,b);if("undefined"!=typeof m)return m}else for(var l=f;l<=g;l+=e){var m=c(n[l],b[n[l]],l,f,g,b);if("undefined"!=typeof m)return m}}else if(zot(f)&&(f=d?b.numChildren-1:0),zot(g)&&(g=d?0:b.numChildren-1),d)for(var l=f;l>=g;l-=e){var m=c(b.getChildAt(l),l,f,g,b);if("undefined"!=typeof m)return m}else for(var l=f;l<=g;l+=e){var m=c(b.getChildAt(l),l,f,g,b);if("undefined"!=typeof m)return m}}},a.copyMatrix=function(a,b){return z_d("45.5"),a.x=b.x,a.y=b.y,a.scaleX=b.scaleX,a.scaleY=b.scaleY,a.regX=b.regX,a.regY=b.regY,a.rotation=b.rotation,a.skewX=b.skewX,a.skewY=b.skewY,a},a.scale=function(a,b){if(z_d("42"),!zot(a)&&!zot(a.scaleX))return zot(b)&&(b=1),a.scaleX=a.scaleY=b,a},a.scaleTo=function(b,c,d,e,f){var h,g="obj, boundObj, percentX, percentY, type";if(h=zob(a.scaleTo,arguments,g))return h;if(z_d("43"),zot(b)||!b.getBounds||!b.getBounds())return void zog("zim create - scaleTo(): please provide an object (with setBounds) to scale");if(zot(c)||!c.getBounds||!c.getBounds())return void zog("zim create - scaleTo(): please provide a boundObject (with setBounds) to scale to");if(zot(d)&&(d=-1),zot(e)&&(e=-1),d==-1&&e==-1)return b;zot(f)&&(f="smallest");var i=c.getBounds().width*d/100,j=c.getBounds().height*e/100;if((d==-1||e==-1)&&"both"!=f&&"stretch"!=f)return d==-1?a.scale(b,j/b.getBounds().height):a.scale(b,i/b.getBounds().width),b;if("both"==f||"stretch"==f)return b.scaleX=d!=-1?i/b.getBounds().width:b.scaleX,b.scaleY=e!=-1?j/b.getBounds().height:b.scaleY,b;if("biggest"==f||"largest"==f||"outside"==f)var k=Math.max(i/b.getBounds().width,j/b.getBounds().height);else var k=Math.min(i/b.getBounds().width,j/b.getBounds().height);return a.scale(b,k),b},a.fit=function(b,c,d,e,f,g){var i,h="obj, left, top, width, height, inside";if(i=zob(a.fit,arguments,h))return i;if(z_d("46"),!zot(b)&&b.getBounds){if(!b.getBounds())return void zog("zim create - fit(): please setBounds() on object");if(zot(c)){if(!b.getStage())return void zog("zim create - fit(): please add boundary dimensions or add obj to stage first");if(!b.getStage().getBounds())return void zog("zim create - fit(): please add boundary dimensions or add obj with bounds to stage first");var j=b.getStage().getBounds().width,k=b.getStage().getBounds().height;c=0,d=0,e=j,f=k}zot(g)&&(g=!0),b.scaleX=b.scaleY=1;var p,l=e,m=f,n=b.getBounds().width,o=b.getBounds().height;p=g?l/m>=n/o?m/o:l/n:l/m>=n/o?l/n:m/o,b.scaleX=b.scaleY=p;var q=n*p,r=o*p;return b.x=b.regX*p+c+(l-q)/2,b.y=b.regY*p+d+(m-r)/2,{x:b.x,y:b.y,width:q,height:r,scale:p,bX:c,bY:d,bWidth:e,bHeight:f}}},a.outline=function(b,c,d){var f,e="obj, color, size";if(f=zob(a.outline,arguments,e))return f;if(z_d("47"),zot(b)||!b.getBounds)return void zog("zim create - outline(): please provide object with bounds set");if(!b.getBounds())return void zog("zim create - outline(): please setBounds() on object");if(!b.parent)return void zog("zim create - outline(): object should be on stage first");zot(c)&&(c="brown"),zot(d)&&(d=2);var g=b.getBounds(),h=new createjs.Shape,i=new createjs.Shape,j=b.parent,k=b.localToLocal(g.x,g.y,j),l=b.localToLocal(g.x+g.width,g.y,j),m=b.localToLocal(g.x+g.width,g.y+g.height,j),n=b.localToLocal(g.x,g.y+g.height,j),o=b.localToLocal(0,0,j),p=h.graphics,q=i.graphics;p.s(c).ss(d).mt(k.x,k.y).lt(l.x,l.y).lt(m.x,m.y).lt(n.x,n.y).lt(k.x,k.y);var r=10,s=r+1;return q.s("white").ss(d+2),q.mt(-s,0).lt(s,0),q.mt(0,-s).lt(0,s),q.s(c).ss(d),q.mt(-r,0).lt(r,0),q.mt(0,-r).lt(0,r),i.x=o.x,i.y=o.y,i.rotation=b.rotation,p.s("white").ss(d+2).dc(b.x,b.y,r+6),p.s(c).ss(d).dc(b.x,b.y,r+6),b.parent.addChild(h),b.parent.addChild(i),b.getStage()&&b.getStage().update(),b},a.centerReg=function(b,c,d,e){var g,f="obj, container, add, index";if(g=zob(a.centerReg,arguments,f))return g;if(z_d("48"),zot(b)||!b.getBounds||!b.getBounds())return void zog("zim create - centerReg(): please provide object with bounds set");var h=b.getBounds();return b.regX=h.x+h.width/2,b.regY=h.y+h.height/2,c?a.center(b,c,d,e):b},a.center=function(b,c,d,e){var g,f="obj, container, add, index";if(g=zob(a.center,arguments,f))return g;if(z_d("48.1"),zot(b)||!b.getBounds)return void zog("zim.center(): please provide object with bounds");if(zot(c)||!c.getBounds)return void zog("zim.center(): please provide container with bounds");var h=b.getBounds(),i=c.getBounds();if(zot(d)&&(d=!0),d&&c.addChild&&(zot(e)||Number.isNaN(e)?c.addChild(b):c.addChildAt(b,e)),zot(i))return b;if(zot(h))return b.x=c.getBounds().width/2,b.y=c.getBounds().height/2,b;var j=b.localToLocal(b.regX,b.regY,c),k=a.boundsToGlobal(b),l=a.boundsToGlobal(c,k,!0);if(b.x=i.x+i.width/2-l.width/2+(j.x-l.x),b.y=i.y+i.height/2-l.height/2+(j.y-l.y),!d&&c.getStage&&c.getStage()&&b.parent){var m=c.localToLocal(b.x,b.y,b.parent);b.x=m.x,b.y=m.y}return b},a.place=function(b,c){function d(){zog(c+".x = "+Math.round(b.x)+"; "+c+".y = "+Math.round(b.y)+";")}z_d("49"),zot(b)||(zot(c)&&(c="obj"),a.drag({obj:b,currentTarget:!0,dragCursor:"crosshair"}),zog("place "+c+" - to get new position"),b.on("click",d))},a.expand=function(a,b,c){if(z_d("50"),zot(a)||!a.getBounds)return void zog("zim create - expand(): please provide object with bounds set");zot(b)&&(b=20),zot(c)&&(c=b);var d=a.getBounds(),e=new createjs.Shape;return e.graphics.f("0").r(d.x-b,d.y-c,d.width+2*b,d.height+2*c),a.hitArea=e,a},a.setMask=function(b,c){if(z_d("50.1"),zot(b))return void zog("zim create - setMask(): please provide obj");var d;return c&&c.shape?(c.zimMask=d=c.shape.clone(),a.copyMatrix(d,c),d.regX=c.regX,d.regY=c.regY,a.addDisplayMembers(d),c.addChildAt(d,0),d.alpha=0):d=c,b.mask=d,d},a.OPTIMIZE=!1,a.ACTIONEVENT="mousedown",a.extend=function(b,c,d,e,f){function k(){this.constructor=b}var h,g="subclass, superclass, override, prefix, prototype";if(h=zob(a.extend,arguments,g))return h;if((zot(b)||zot(c))&&zon)return void zog("zim.extend() - please supply a class and its superclass");zot(e)&&(e="super"),zot(d)&&(d=[]),Array.isArray(d)||(d=[d]),zot(f)&&(f=!0);var i={};for(var j in b.prototype)Object.defineProperty(i,j,Object.getOwnPropertyDescriptor(b.prototype,j));k.prototype=c.prototype,b.prototype=new k;for(j in i)Object.defineProperty(b.prototype,j,Object.getOwnPropertyDescriptor(i,j));
var l=b.prototype,m=Object.getPrototypeOf&&Object.getPrototypeOf(l)||l.__proto__;if(m){l[(e+="_")+"constructor"]=m.constructor;for(var n,o=0;o<d.length;o++)n=d[o],"function"==typeof m[n]&&(l[e+n]=m[n]);if(f)for(n in m)l.hasOwnProperty(n)&&"function"==typeof m[n]&&(l[e+n]=m[n])}return b},a.displayMethods={drag:function(b,c,d,e,f,g,h,i,j,k,l,m,n){return isDUO(arguments)?(arguments[0].obj=this,a.drag(arguments[0])):a.drag(this,b,c,d,e,f,g,h,i,j,k,l,m,n)},noDrag:function(){return a.noDrag(this)},dragRect:function(b){return a.dragRect(this,b)},setSwipe:function(b){return a.setSwipe(this,b)},hitTestPoint:function(b,c){return a.hitTestPoint(this,b,c)},hitTestReg:function(b){return a.hitTestReg(this,b)},hitTestRect:function(b,c){return a.hitTestRect(this,b,c)},hitTestCircle:function(b,c){return a.hitTestCircle(this,b,c)},hitTestBounds:function(b,c){return a.hitTestBounds(this,b,c)},boundsToGlobal:function(b,c){return a.boundsToGlobal(this,b,c)},hitTestGrid:function(b,c,d,e,f,g,h,i,j,k,l,m){return a.hitTestGrid(this,b,c,d,e,f,g,h,i,j,k,l,m)},move:function(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y){return isDUO(arguments)?(arguments[0].target=this,a.move(arguments[0])):a.move(this,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y)},animate:function(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y){return isDUO(arguments)?(arguments[0].target=this,a.animate(arguments[0])):a.animate(this,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y)},loop:function(b,c,d,e,f){return a.loop(this,b,c,d,e,f)},copyMatrix:function(b){return a.copyMatrix(this,b)},scale:function(b){return a.scale(this,b)},scaleTo:function(b,c,d,e){return isDUO(arguments)?(arguments[0].obj=this,a.scaleTo(arguments[0])):a.scaleTo(this,b,c,d,e)},fit:function(b,c,d,e,f){return isDUO(arguments)?(arguments[0].obj=this,a.fit(arguments[0])):a.fit(this,b,c,d,e,f)},outline:function(b,c){return isDUO(arguments)?(arguments[0].obj=this,a.outline(arguments[0])):a.outline(this,b,c)},centerReg:function(b,c,d){return isDUO(arguments)?(arguments[0].obj=this,a.centerReg(arguments[0])):a.centerReg(this,b,c,d)},center:function(b,c,d){return isDUO(arguments)?(arguments[0].obj=this,a.center(arguments[0])):a.center(this,b,c,d)},place:function(b){return a.place(this,b)},expand:function(b,c){return a.expand(this,b,c)},setMask:function(b){return a.setMask(this,b)},cloneProps:function(b){return b.alpha=this.alpha,b.mouseEnabled=this.mouseEnabled,b.tickEnabled=this.tickEnabled,b.name=this.name,b.regX=this.regX,b.regY=this.regY,b.visible=this.visible,b.shadow=this.shadow,a.copyMatrix(b,this),b.compositeOperation=this.compositeOperation,b.snapToPixel=this.snapToPixel,b.filters=null==this.filters?null:this.filters.slice(0),b.mask=this.mask,b.hitArea=this.hitArea,b.cursor=this.cursor,b._bounds=this._bounds,b},cloneChildren:function(a){a.children.length&&a.removeAllChildren();for(var b=a.children,c=0,d=this.children.length;c<d;c++){var e=this.children[c].clone();e.parent=a,b.push(e)}return a}},a.addDisplayMembers=function(b){z_d("50.4");for(var c in a.displayMethods)a.displayMethods.hasOwnProperty(c)&&(b[c]=a.displayMethods[c]);return Object.defineProperty(b,"width",{enumerable:!0,get:function(){var a=this.getBounds();return zot(a)?null:a.width*this.scaleX},set:function(a){var b=this.getBounds();if(zot(b)||0==b.width)return void zog("width needs bounds set with setBounds()");var c=a/b.width;this.scaleX=this.scaleY=c}}),Object.defineProperty(b,"height",{enumerable:!0,get:function(){var a=this.getBounds();return zot(a)?null:a.height*this.scaleY},set:function(a){var b=this.getBounds();if(zot(b)||0==b.height)return void zog("height needs bounds set with setBounds()");var c=a/b.height;this.scaleX=this.scaleY=c}}),Object.defineProperty(b,"widthOnly",{enumerable:!0,get:function(){var a=this.getBounds();return zot(a)?null:a.width*this.scaleX},set:function(a){var b=this.getBounds();if(zot(b)||0==b.width)return void zog("widthOnly needs bounds set with setBounds()");var c=a/b.width;this.scaleX=c}}),Object.defineProperty(b,"heightOnly",{enumerable:!0,get:function(){var a=this.getBounds();return zot(a)?null:a.height*this.scaleY},set:function(a){var b=this.getBounds();if(zot(b)||0==b.height)return void zog("heightOnly needs bounds set with setBounds()");var c=a/b.height;this.scaleY=c}}),b},a.Container=function(b,c,d,e){if(z_d("50.5"),this.cjsContainer_constructor(),zot(d))var f=0,g=b,h=0,i=c;else var f=b,g=d,h=c,i=e;zot(i)&&(i=g),zot(b)||this.setBounds(f,h,g,i),this.clone=function(){return this.cloneChildren(this.cloneProps(new a.Container(f,h,g,i)))}},a.addDisplayMembers(a.Container.prototype),a.extend(a.Container,createjs.Container,"clone","cjsContainer",!1),a.Shape=function(b,c,d,e,f){z_d("50.6"),this.cjsShape_constructor(f);var g=this;if(zot(d))var h=0,i=b,j=0,k=c;else var h=b,i=d,j=c,k=e;zot(k)&&(k=i),zot(b)||this.setBounds(h,j,i,k),this.clone=function(b){zot(b)&&(b=!0);var c=g.cloneProps(new a.Shape(i,k,h,j,f));return b?c.graphics=g.graphics.clone():c.graphics=g.graphics,c}},a.extend(a.Shape,createjs.Shape,"clone","cjsShape",!1),a.addDisplayMembers(a.Shape.prototype),a.Bitmap=function(b,c){z_d("50.7"),this.cjsBitmap_constructor(b),this.id=c,this.clone=function(){return this.cloneProps(new a.Bitmap(b,c))}},a.extend(a.Bitmap,createjs.Bitmap,"clone","cjsBitmap",!1),a.addDisplayMembers(a.Bitmap.prototype),a.Sprite=function(b,c){z_d("50.8"),this.cjsSprite_constructor(b,c),this.clone=function(){return this.cloneProps(new a.Sprite(b,c))}},a.extend(a.Sprite,createjs.Sprite,"clone","cjsSprite",!1),a.addDisplayMembers(a.Sprite.prototype),a.MovieClip=function(b,c,d,e){var g,f="mode, startPosition, loop, labels";return(g=zob(a.MovieClip,arguments,f,this))?g:(z_d("50.9"),this.cjsMovieClip_constructor(b,c,d,e),void(this.clone=function(){return this.cloneProps(new a.MovieClip(b,c,d,e))}))},a.extend(a.MovieClip,createjs.MovieClip,"clone","cjsMovieClip",!1),a.addDisplayMembers(a.MovieClip.prototype),a.Circle=function(b,c,d,e){function r(){n.c(),o=n.f(j).command,(zot(l)||l>0)&&(zot(k)&&zot(l)||(zot(k)&&(k="black"),p=n.s(k).command,q=n.ss(l).command)),n.dc(0,0,i),h.setBounds(-i,-i,2*i,2*i)}var g,f="radius, color, borderColor, borderWidth";if(g=zob(a.Circle,arguments,f,this))return g;z_d("51"),this.zimContainer_constructor(),zot(b)&&(b=50),zot(c)&&(c="black");var h=this,i=b,j=c,k=d,l=e;this.mouseChildren=!1;var m=this.shape=new createjs.Shape;this.addChild(m);var o,p,q,n=m.graphics;r(),Object.defineProperty(h,"color",{get:function(){return j},set:function(a){zot(a)&&(a="black"),j=a,o.style=j}}),Object.defineProperty(h,"borderColor",{get:function(){return k},set:function(a){k=a,p?p.style=k:r()}}),Object.defineProperty(h,"borderWidth",{get:function(){return l},set:function(a){a>0||(a=0),l=a,q&&0!=l?q.width=l:r()}}),Object.defineProperty(h,"radius",{get:function(){return i},set:function(a){i=a,r()}}),this.clone=function(){return h.cloneProps(new a.Circle(b,c,d,e))}},a.extend(a.Circle,a.Container,"clone","zimContainer",!1),a.Rectangle=function(b,c,d,e,f,g,h){function t(){p.c(),q=p.f(l).command,(zot(n)||n>0)&&(zot(m)&&zot(n)||(zot(m)&&(m="black"),r=p.s(m).command,s=p.ss(n).command)),g>0?h?p.rc(0,0,b,c,g,g,0,0):p.rr(0,0,b,c,g):p.r(0,0,b,c),k.setBounds(0,0,b,c)}var j,i="width, height, color, borderColor, borderWidth, corner, flatBottom";if(j=zob(a.Rectangle,arguments,i,this))return j;z_d("52"),this.zimContainer_constructor(),zot(b)&&(b=100),zot(c)&&(c=100),zot(d)&&(d="black"),zot(g)&&(g=0),zot(h)&&(h=!1);var k=this,l=d,m=e,n=f;this.mouseChildren=!1;var o=this.shape=new createjs.Shape;this.addChild(o);var q,r,s,p=o.graphics;t(),Object.defineProperty(k,"color",{get:function(){return l},set:function(a){zot(a)&&(a="black"),l=a,q.style=l}}),Object.defineProperty(k,"borderColor",{get:function(){return m},set:function(a){m=a,r?r.style=m:t()}}),Object.defineProperty(k,"borderWidth",{get:function(){return n},set:function(a){a>0||(a=0),n=a,s&&0!=n?s.width=n:t()}}),this.clone=function(){return k.cloneProps(new a.Rectangle(b,c,d,e,f,g,h))}},a.extend(a.Rectangle,a.Container,"clone","zimContainer",!1),a.Triangle=function(b,c,d,e,f,g,h,i){function w(){s.c(),t=s.f(m).command,(zot(o)||o>0)&&(zot(n)&&zot(o)||(zot(n)&&(n="black"),u=s.s(n).command,v=s.ss(o).command)),s.mt(0,0),l.one={x:0,y:0},s.lt(b,0),l.two={x:b,y:0};var a=180*Math.acos((Math.pow(bb,2)+Math.pow(cc,2)-Math.pow(aa,2))/(2*bb*cc))/Math.PI,d=180*Math.asin(bb*Math.sin(a*Math.PI/180)/aa)/Math.PI,e=180-a-d,f=[a,d,e];l.angles=[f[q[1]],f[q[2]],f[q[0]]];var g=l.angles[1],j=Math.cos(g*Math.PI/180)*c,k=Math.sin(g*Math.PI/180)*c,p=Math.max(b,b-j),w=k;l.setBounds(0,0,p,w),r.y=w,s.lt(b-j,0-k),l.three={x:b-j,y:0-k},s.cp(),h&&(l.regX=p/2,l.regY=w/2+i)}var k,j="a, b, c, color, borderColor, borderWidth, center, adjust";if(k=zob(a.Triangle,arguments,j,this))return k;z_d("53"),this.zimContainer_constructor(),zot(b)&&(b=100),zot(c)&&(c=b),zot(d)&&(d=c),d==-1&&(d=Math.sqrt(Math.pow(b,2)+Math.pow(c,2))),zot(e)&&(e="black"),zot(h)&&(h=!0),zot(i)&&(i=0);var l=this,m=e,n=f,o=g;this.mouseChildren=!1;var p=[b,c,d];p.sort(function(a,b){return b-a}),aa=p[0],bb=p[1],cc=p[2];var q=[p.indexOf(b),p.indexOf(c),p.indexOf(d)];if(aa>bb+cc)return void zog("zim build - Triangle(): invalid triangle lengths");var r=this.shape=new createjs.Shape;this.addChild(r);var t,u,v,s=r.graphics;w(),Object.defineProperty(l,"color",{get:function(){return m},set:function(a){zot(a)&&(a="black"),m=a,t.style=m}}),Object.defineProperty(l,"borderColor",{get:function(){return n},set:function(a){n=a,u?u.style=n:w()}}),Object.defineProperty(l,"borderWidth",{get:function(){return o},set:function(a){a>0||(a=0),o=a,v&&0!=o?v.width=o:w()}}),this.clone=function(){return l.cloneProps(new a.Triangle(b,c,d,e,f,g,h,i))}},a.extend(a.Triangle,a.Container,"clone","zimContainer"),a.Label=function(c,d,e,f,g,h,i,j,k,l,m,n,o){function t(){var b,a=s.getBounds();"top"==k?(s.y=d-d/6,b=0):"center"==k||"middle"==k?(b=-a.height/2,s.y=.3*d):b=-a.height,s.setBounds(a.x,b,a.width,a.height),r.setBounds(a.x,b,a.width,a.height)}var q,p="text, size, font, color, rollColor, shadowColor, shadowBlur, align, valign, lineWidth, lineHeight, fontOptions, backing";if(q=zob(a.Label,arguments,p,this))return q;z_d("54"),this.zimContainer_constructor(),zot(c)&&(c="LABEL"),""===c&&(c=" "),zot(d)&&(d=36),zot(e)&&(e="arial"),zot(f)&&(f="black"),zot(g)&&(g=f),zot(h)&&(h=-1),zot(i)&&(i=14),zot(j)&&(j="left"),zot(k)&&(k="top"),zot(n)&&(n="");var r=this;this.mouseChildren=!1;var s=this.label=new createjs.Text(String(c),n+" "+d+"px "+e,f);if(s.textAlign=j,s.lineWidth=l,s.lineHeight=m,s.textBaseline="alphabetic",h!=-1&&i>0&&(s.shadow=new createjs.Shadow(h,3,3,i)),this.addChild(s),t(),zot(o)){var u=new createjs.Shape;u.graphics.f("black").r(s.getBounds().x,s.getBounds().y,s.getBounds().width,s.getBounds().height),this.hitArea=u}else this.backing=o,a.center(o,this,!0,0),o.y-=d/16;Object.defineProperty(r,"text",{get:function(){var a=" "==s.text?"":s.text;return a},set:function(a){zot(a)&&(a=" "),s.text=String(a),t()}}),Object.defineProperty(r,"color",{get:function(){return f},set:function(b){f=b,s.color=f,!a.OPTIMIZE&&r.getStage()&&r.getStage().update()}}),Object.defineProperty(r,"rollColor",{get:function(){return g},set:function(a){g=a}}),this._enabled=!0,Object.defineProperty(r,"enabled",{get:function(){return r._enabled},set:function(c){b(r,c),s.color=f,r.mouseChildren=!1,!a.OPTIMIZE&&r.getStage()&&r.getStage().update()}}),this.showRollColor=function(a){zot(a)&&(a=!0),a?s.color=g:s.color=f,r.getStage()&&r.getStage().update()},this.on("mouseover",function(a){r.showRollColor()}),this.on("mouseout",function(a){r.showRollColor(!1)}),this.clone=function(){return r.cloneProps(new a.Label(r.text,d,e,f,g,h,i,j,k,l,m,n,o))},this.dispose=function(){return r.removeAllEventListeners(),!0}},a.extend(a.Label,a.Container,"clone","zimContainer"),a.Button=function(c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x){function I(a){H=!0,zot(q)?B.color=g:zot(r)||(zot(t)&&A.toggled?(A.removeChild(v),A.addChildAt(w,0)):(A.removeChild(q),A.addChildAt(r,0))),zot(u)||(A.toggled?(A.removeChild(v),A.addChild(w)):(A.removeChild(t),A.addChild(u))),A.label.showRollColor(),A.getStage()&&A.getStage().update()}function J(a){H=!1,A.off("mouseout",J),A.rollPersist?G||K():K()}function K(){zot(q)?B.color=f:zot(r)||(zot(t)&&A.toggled?(A.removeChild(w),A.addChildAt(v,0)):(A.removeChild(r),A.addChildAt(q,0))),zot(u)||(A.toggled?(A.removeChild(w),A.addChild(v)):(A.removeChild(u),A.addChild(t))),A.label.showRollColor(!1),A.getStage()&&A.getStage().update()}function N(){"string"==typeof v?(A.text=A.toggled?v:M,!a.OPTIMIZE&&A.getStage()&&A.getStage().update()):zot(t)?A.setBackings(A.toggled?v:q,A.toggled?w:r):A.setIcons(A.toggled?v:t,A.toggled?w:u)}function O(b,e,f,g,h){A.contains(A[b])?(A.removeChild(A[b]),A.addChildAt(f,h)):A.contains(A[e])&&(A.removeChild(A[e]),A.addChildAt(g,h)),A[b]=f,A[e]=g,A[b]&&(A[b].x=c/2,A[b].y=d/2),A[e]&&(A[e].x=c/2,A[e].y=d/2),!a.OPTIMIZE&&A.getStage()&&A.getStage().update()}var z,y="width, height, label, color, rollColor, borderColor, borderWidth, corner, shadowColor, shadowBlur, hitPadding, gradient, gloss, flatBottom, backing, rollBacking, rollPersist, icon, rollIcon, toggle, rollToggle, toggleEvent";if(z=zob(a.Button,arguments,y,this))return z;z_d("55"),this.zimContainer_constructor(),zot(c)&&(c=200),zot(d)&&(d=60),zot(f)&&(f="#C60"),zot(g)&&(g="#F93"),zot(h)&&(h=null),zot(i)&&(i=null),zot(j)&&(j=20),zot(k)&&(k="rgba(0,0,0,.3)"),zot(l)&&(l=14),zot(m)&&(m=0),zot(n)&&(n=0),zot(o)&&(o=0),zot(p)&&(p=!1),zot(e)&&(e=zot(t)?"PRESS":""),!zot(v)&&zot(x)&&(x=a.mobile()?"mousedown":"click"),"string"!=typeof e&&"number"!=typeof e||(e=new a.Label(e,36,"arial","white",null,null,null,"center","middle")),zot(s)&&(s=!1),this.rollPersist=s;var A=this;this.mouseChildren=!1,this.cursor="pointer";var B;zot(q)?B=new a.Rectangle(c,d,f,h,i,j,p):(B=q,B.x=c/2,B.y=d/2,zot(r)||(r.x=c/2,r.y=d/2,this.rollBacking=r)),this.addChild(B),this.backing=B,zot(t)||(this.addChild(t),t.x=c/2,t.y=d/2,this.icon=t),zot(u)||(this.rollIcon=u,u.x=c/2,u.y=d/2);var C=p?0:j;if(n>0&&zot(q)){var D=new createjs.Shape;D.graphics.lf(["rgba(255,255,255,"+n+")","rgba(0,0,0,"+n+")"],[0,1],0,0,0,d-i),D.graphics.rc(i/2,i/2,c-i,d-i,j,j,C,C),B.addChild(D)}if(o>0&&zot(q)){var E=new createjs.Shape;E.graphics.f("rgba(255,255,255,"+o+")"),E.graphics.rc(i/2,i/2,c-i,(d-i)/2,j,j,0,0),E.graphics.f("rgba(0,0,0,"+o+")"),E.graphics.rc(i/2,d/2,c-i,(d-i)/2,0,0,C,C),B.addChild(E)}if(m>0){var F=new createjs.Shape;F.graphics.f("#000").r(-m,-m,c+2*m,d+2*m),this.hitArea=F}k!=-1&&l>0&&(B.shadow=new createjs.Shadow(k,3,3,l),zot(r)||(r.shadow=new createjs.Shadow(k,3,3,l))),this.setBounds(0,0,c,d),this.addChild(e),e.center(this),e.y+=2,this.label=e;var G=!1;this.on("mousedown",function(){G=!0}),this.on("pressup",function(){G=!1,A.rollPersist&&!H&&K()});var H=!1;this.on("mouseover",I),this.on("mouseout",J),this.toggled=!1,this.toggleObj=v,this.rollToggle=w;var L,M=e.text;zot(v)||(L=this.on(x,function(){A.toggled=!A.toggled,N(A.toggled)})),Object.defineProperty(A,"text",{get:function(){var a=" "==e.text?"":e.text;return a},set:function(a){e.text=a,e.center(this),e.y+=2}}),Object.defineProperty(A,"color",{get:function(){return f},set:function(b){f=b,B.color?B.color=f:zon&&zog("zim.Button - backing has no color property"),!a.OPTIMIZE&&A.getStage()&&A.getStage().update()}}),Object.defineProperty(A,"rollColor",{get:function(){return g},set:function(a){g=a}}),this._enabled=!0,Object.defineProperty(A,"enabled",{get:function(){return A._enabled},set:function(c){b(A,c),A.mouseChildren=!1,e.color=e.color,!a.OPTIMIZE&&A.getStage()&&A.getStage().update()}}),this.setBackings=function(a,b){O("backing","rollBacking",a,b,0)},this.setIcons=function(a,b){O("icon","rollIcon",a,b,A.numChildren-1)},this.toggle=function(a){zot(a)?A.toggled=!A.toggled:A.toggled=a,N()},this.clone=function(){var b=new a.Button(c,d,e.clone(),f,g,h,i,j,k,l,m,n,o,p,zot(q)?null:q.clone(),zot(r)?null:r.clone(),s,zot(t)?null:t.clone(),zot(u)?null:u.clone(),zot(v)?null:"string"==typeof v?v:v.clone(),zot(w)?null:w.clone(),x);return A.cloneProps(b)},this.dispose=function(){return A.removeAllEventListeners(),A.removeChild(B),A.removeChild(r),A.removeChild(t),A.removeChild(A.label),A.label.dispose(),B=null,r=null,t=null,A.label=null,!0}},a.extend(a.Button,a.Container,"clone","zimContainer",!1),a.CheckBox=function(c,d,e,f,g,h){function v(a){k=!k,l.setChecked(k),l.dispatchEvent("change")}var j,i="size, label, startChecked, color, margin, type";if(j=zob(a.CheckBox,arguments,i,this))return j;z_d("56"),this.zimContainer_constructor(),zot(c)&&(c=60),zot(d)&&(d=null),"string"!=typeof d&&"number"!=typeof d||(d=new a.Label(d,5*c/6,"arial",f));var k=!zot(e)&&e;zot(f)&&(f="#111"),zot(g)&&(g=10),"box"!=h&&"square"!=h&&"x"!=h&&(h="check"),this.setBounds(-g,-g,c+2*g,c+2*g);var l=this;this.cursor="pointer";var m=new createjs.Shape,n=m.graphics;n.f("rgba(255,255,255,.5)").r(0,0,c,c),n.s(f).ss(c/10).r(c/7,c/7,c-c/7*2,c-c/7*2),this.addChild(m);var o=c;d&&(this.addChild(d),d.x=1.3*c+g,d.y=c/8,this.label=d,this.setBounds(-g,-g,c+3*g+d.getBounds().width,Math.max(c+2*g,d.getBounds().height)),o=d.x+d.width);var p=new createjs.Shape;n=p.graphics,n.f("rgba(0,0,0,.01)").r(this.getBounds().x,this.getBounds().y,o+2*g,this.getBounds().height),this.hitArea=p;var q=new createjs.Shape,r=q.graphics,s="#000";"check"==h?r.f(s).p("AnQAdICBiaIEEDZIF8nfICfB4In/KPg"):"box"==h||"square"==h?r.f(s).dr(-35,-35,70,70):r.f(s).p("AmJEVIEUkTIkXkWIB4h5IEWEYIETkTIB4B3IkTESIEQERIh4B4IkRkRIkSEVg");var t=95;q.setBounds(-t/2,-t/2,t,t);var u=c/(t+66);q.scaleX=q.scaleY=u,q.alpha=.9,q.x=c/2,q.y=c/2,k&&this.addChild(q),this.on("mousedown"==a.ACTIONEVENT?"mousedown":"click",v),Object.defineProperty(l,"checked",{get:function(){return k},set:function(a){l.setChecked(a)}}),Object.defineProperty(l,"text",{get:function(){if(d)return d.text},set:function(b){d&&(d.text=b,!a.OPTIMIZE&&l.getStage()&&l.getStage().update())}}),Object.defineProperty(q,"color",{get:function(){return s},set:function(b){k&&l.removeChild(q),q=new createjs.Shape,r=q.graphics,s=b,r.f(s).p("AnQAdICBiaIEEDZIF8nfICfB4In/KPg"),q.scaleX=q.scaleY=u,q.alpha=.9,q.x=c/2,q.y=c/2,k&&l.addChild(q),!a.OPTIMIZE&&l.getStage()&&l.getStage().update()}}),Object.defineProperty(l,"check",{get:function(){return q},set:function(a){zog("ZIM CheckBox - check is read only")}}),this._enabled=!0,Object.defineProperty(l,"enabled",{get:function(){return l._enabled},set:function(a){b(l,a)}}),this.setChecked=function(b){zot(b)&&(b=!0),k=b,k?l.addChild(q):l.removeChild(q),!a.OPTIMIZE&&l.getStage()&&l.getStage().update()},this.clone=function(){return l.cloneProps(new a.CheckBox(c,d.clone(),e,f,g,h))},this.dispose=function(){return l.removeAllEventListeners(),!0}},a.extend(a.CheckBox,a.Container,"clone","zimContainer",!1),a.RadioButtons=function(c,d,e,f,g,h,i){function q(a){var b=p.getChildIndex(a.target);i&&l.selectedIndex==b||(l.setSelected(b),l.dispatchEvent("change"))}function s(){for(var b,h=!1,i=d.length-1;i>=0;i--)b=d[i],b.selected&&b.selected===!0&&(h?b.selected="false":(h=!0,l.id=b.id));p.removeAllChildren();for(var j,k=0,i=0;i<d.length;i++){if(b=d[i],"string"==typeof b||"number"==typeof b){var n={selected:!1,label:new a.Label(b,5*c/6,"arial",f)};b=n}(b.label&&"string"==typeof b.label||"number"==typeof b.label)&&(b.label=new a.Label(b.label,5*c/6,"arial",f)),l.labels.push(b.label),b.index=i,d[i]=b,j=t(b.selected,b.label),j.obj=b,b.selected&&(m=j.obj),p.addChild(j),e?(j.y=k,k+=j.getBounds().height+g):(j.x=k,k+=j.getBounds().width+g)}}function t(b,d){var e=new a.Container;e.mouseChildren=!1,e.setBounds(-h,-h,c+2*h,c+2*h);var g=new createjs.Shape,i=g.graphics;i.f("rgba(255,255,255,.5)").dc(c/2,c/2,c/1.85),i.s(f).ss(c/9).dc(c/2,c/2,c/2-c/2/5),e.addChild(g);var j=e.check=new a.Circle(c/5.2,"rgba(0,0,0,.7)");l.dots.push(j),j.mouseEnabled=!1,j.alpha=.95,j.regX=j.regY=-c/2;var k=c;d&&(e.addChild(d),d.x=e.getBounds().width,d.y=c/8,e.setBounds(-h,-h,c+2*h+d.getBounds().width,Math.max(c+2*h,d.getBounds().height)),k=d.x+d.width),b&&(e.addChild(j),l.label=d,l.label&&(l.text=d.text));var m=new createjs.Shape;return i=m.graphics,i.f("rgba(0,0,0,.01)").r(e.getBounds().x,e.getBounds().y,k+2*h,e.getBounds().height),e.hitArea=m,e}var k,j="size, buttons, vertical, color, spacing, margin, always";if(k=zob(a.RadioButtons,arguments,j,this))return k;z_d("57"),this.zimContainer_constructor(),zot(c)&&(c=60),c=Math.max(5,c),zot(d)&&(d=["A","B","C"]),zot(e)&&(e=!0),zot(f)&&(f="#111"),zot(g)&&(g=e?.2*c:c),zot(h)&&(h=c/5);var l=this;this.cursor="pointer",this.labels=[],this.dots=[];var m;if("string"==typeof d){var n=d;d=[];for(var o=0;o<n.length;o++)d.push({label:n[o]})}var p=new a.Container;this.addChild(p),p.on("mousedown"==a.ACTIONEVENT?"mousedown":"click",q),s();this.getBounds()||this.setBounds(0,0,c,c),this.setBounds(-h,-h,this.getBounds().width+h,this.getBounds().height+h),this.setSelected=function(b){if(zot(b)&&(b=-1),b==-1||p.getChildAt(b)){for(var c,d=0;d<p.getNumChildren();d++)c=p.getChildAt(d),c.removeChild(c.check);if(b>=0){c=p.getChildAt(b);var e=-2;m&&(e=m.index),m=c.obj}b==-1||e==m.index?(m=null,l.id=null,l.label=null,l.text=""):(c.addChild(c.check),l.id=m.id,l.label=m.label,l.label&&(l.text=l.label.text)),!a.OPTIMIZE&&l.getStage()&&l.getStage().update()}},Object.defineProperty(l,"selected",{get:function(){return m},set:function(a){zog("ZIM RadioButton - selected is read only")}}),Object.defineProperty(l,"selectedIndex",{get:function(){return m?m.index:-1},set:function(a){var b=a;i&&l.selectedIndex==b||l.setSelected(b)}}),this._enabled=!0,Object.defineProperty(l,"enabled",{get:function(){return l._enabled},set:function(a){b(l,a)}}),this.clone=function(){for(var b=a.copy(d),j=0;j<b.length;j++)b[j].label=b[j].label.clone();return l.cloneProps(new a.RadioButtons(c,b,e,f,g,h,i))},this.dispose=function(){return l.removeAllEventListeners(),!0}},a.extend(a.RadioButtons,a.Container,"clone","zimContainer",!1),a.Pane=function(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){function w(a){A(),b.getStage().update(),v.dispatchEvent("close"),a.stopImmediatePropagation()}function A(){function c(){b.removeChild(v),a.OPTIMIZE||b.getStage().update(),h&&(isNaN(v.resetX)||(v.x=v.resetX),isNaN(v.resetY)||(v.y=v.resetY))}q>0?v.animate({obj:{alpha:0},time:q,call:c}):c()}function B(a,e){return a=Math.max(c/2,Math.min(b.getBounds().width-c/2,a)),e=Math.max(d/2,Math.min(b.getBounds().height-d/2,e)),{x:a,y:e}}var s,r="container, width, height, label, color, drag, resets, modal, corner, backingAlpha, shadowColor, shadowBlur, center, displayClose, backing, fadeTime";if(s=zob(a.Pane,arguments,r,this))return s;if(z_d("58"),this.zimContainer_constructor(),zot(b)||!b.getBounds)return void zog("zim build - Pane(): Please pass in a reference to a container with bounds set as first parameter");if(!b.getBounds())return void zog("zim build - Pane(): Please give the container bounds using setBounds()");if(zot(b.getStage))return void zog("zim build - Pane(): Please give the container that has a stage property");zot(c)&&(c=200),zot(d)&&(d=200),zot(e)&&(e=null),"string"!=typeof e&&"number"!=typeof e||(e=new a.Label(e,40,"arial","black")),zot(f)&&(f="white"),zot(g)&&(g=!1),zot(h)&&(h=!0),zot(i)&&(i=!0),zot(j)&&(j=20),zot(k)&&(k=.14),zot(l)&&(l="rgba(0,0,0,.3)"),zot(m)&&(m=20),zot(n)&&(n=!0),zot(o)&&(o=!0),g&&(o=!1),zot(q)&&(q=0);var t=this.backdrop=new createjs.Shape,u=t.graphics;u.f("black"),u.drawRect(-5e3,-5e3,1e4,1e4),this.setBounds(-c/2,-d/2,c,d),t.alpha=k;var v=this;t.on("mousedown"==a.ACTIONEVENT?"mousedown":"click",w),t.on("mousedown",function(a){a.stopImmediatePropagation()}),i&&this.addChild(t);var x;if(zot(p)?(x=this.display=new createjs.Shape,u=x.graphics,u.f(f),u.rr(0,0,c,d,j),x.setBounds(0,0,c,d),x.regX=c/2,x.regY=d/2):x=p,o&&(x.cursor="pointer",x.on("mousedown"==a.ACTIONEVENT?"mousedown":"click",w)),l!=-1&&m>0&&(x.shadow=new createjs.Shadow(l,8,8,m)),x.on("click",function(a){a.stopImmediatePropagation()}),this.resetX,this.resetY,g){x.cursor="pointer";var y,z;x.on("mousedown",function(a){isNaN(v.resetX)&&(v.resetX=v.x),isNaN(v.resetY)&&(v.resetY=v.y),y=a.stageX-v.x,z=a.stageY-v.y,x.cursor="pointer"}),x.on("pressmove",function(a){var c=B(a.stageX-y,a.stageY-z);v.x=c.x,v.y=c.y,b.getStage().update()}),this.on("pressup",function(a){x.cursor="pointer",b.getStage().update()})}this.addChild(x),e&&(this.addChild(e),a.center(e,this),this.label=e,this.text=e.text,e.mouseEnabled=!1),Object.defineProperty(v,"text",{get:function(){var a=" "==e.text?"":e.text;return a},set:function(a){e.text=a,n&&(e.x=-e.getBounds().width/2,e.y=-e.getBounds().height/2)}}),this.hide=function(){A()},this.show=function(){n&&isNaN(v.resetX)&&(v.x=b.getBounds().width/2,v.y=b.getBounds().height/2),b.addChild(v),q>0?(v.alpha=0,v.animate({alpha:1},q)):b.getStage()&&b.getStage().update()},this.toggle=function(){b.contains(v)?v.hide():v.show()},this.clone=function(){var r=e.x,s=e.y,t=v.cloneProps(new a.Pane(b,c,d,e.clone(),f,g,h,i,j,k,l,m,n,o,zot(p)?p.clone():null,q));return t.label.x=r,t.label.y=s,t},this.dispose=function(){return x.removeAllEventListeners(),v.removeChild(x),x=null,!0}},a.extend(a.Pane,a.Container,"clone","zimContainer",!1),a.Window=function(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){function S(){a.dragRect(D,new createjs.Rectangle(0,0,N?-y.scrollXMax:0,O?-y.scrollYMax:0))}function T(){N&&j&&(H.x=L.convert(D.x)),O&&j&&(J.y=M.convert(D.y))}function U(){i&&(a.drag({obj:D,currentTarget:!0,localBounds:!0,slide:o,slideDamp:p,slideSnap:(i===!0||"auto"==i||"vertical"==i)&&q}),D.getBounds()&&D.getBounds().width>0&&setTimeout(function(){S()},300))}function V(b){E&&(E.x=-D.x,E.y=-D.y),a.Ticker.remove(T),N&&n&&a.animate(H,{alpha:0},G.fadeTime),O&&n&&a.animate(J,{alpha:0},G.fadeTime)}function Z(){Y=Date.now(),a.Ticker.add(ga,D.stage)}function $(){fa||(y.dispatchEvent("hoverout"),fa=!0),a.Ticker.remove(ga)}function ga(){Math.abs(_-D.stage.mouseX)>ea||Math.abs(aa-D.stage.mouseY)>ea?(fa||(y.dispatchEvent("hoverout"),fa=!0),Y=Date.now(),_=D.stage.mouseX,aa=D.stage.mouseY):Date.now()-Y>da&&((Math.abs(ba-D.stage.mouseX)>ea||Math.abs(ca-D.stage.mouseY)>ea)&&(y.contentMouse=D.globalToLocal(D.stage.mouseX,D.stage.mouseY),y.dispatchEvent("hoverover"),ba=D.stage.mouseX,ca=D.stage.mouseY,fa=!1),Y=Date.now())}var x,w="width, height, color, borderColor, borderWidth, padding, corner, swipe, indicatorActive, indicatorDrag, indicatorColor, indicatorAlpha, indicatorFade, slide, slideDamp, slideSnap, interactive, shadowColor, shadowBlur, paddingHorizontal, paddingVertical";if(x=zob(a.Window,arguments,w,this))return x;z_d("58.1"),this.zimContainer_constructor(),zot(b)&&(b=300),zot(c)&&(c=200),zot(d)&&(d="#333"),zot(e)&&(e="#999"),zot(f)&&(f=1),zot(g)&&(g=10),zot(h)&&(h=0),zot(i)&&(i=!0),zot(j)&&(j=!0),zot(k)&&(k=!1),zot(l)&&(l=e),zot(m)&&(m=.3),zot(n)&&(n=!0),k&&(n=!1),zot(o)&&(o=!0),zot(p)&&(p=.6),zot(q)&&(q="vertical"),zot(r)&&(r=!0),zot(s)&&(s="rgba(0,0,0,.3)"),zot(t)&&(t=20),zot(v)&&(v=g),zot(u)&&(u=g);var y=this;this.scrollX=this.scrollY=this.scrollXMax=this.scrollYMax=0,this.setBounds(0,0,b,c),this.setBounds(0,0,b,c);var z=this.backing=new createjs.Shape,A=z.graphics;A.f(d).rr(0,0,b,c,h),this.addChild(z),s!=-1&&t>0&&(z.shadow=new createjs.Shadow(s,8,8,t));var B=new createjs.Shape,C=B.graphics;this.addChild(B);var D=this.content=new a.Container;if(this.addChild(D),D.mask=B,!r){var E=new createjs.Shape;E.graphics.f("red").dr(0,0,b,c),D.hitArea=E}if(f>0){var F=new createjs.Shape;A=F.graphics,A.s(e).ss(f).rr(0,0,b,c,h),this.addChild(F)}var G=this.indicator={};if(G.size=6,G.spacing=3.5+f/2,G.margin=0,G.corner=G.size/2,G.showTime=500,G.fadeTime=3e3,j){var H=this.hIndicator=new a.Shape,I=H.graphics;H.alpha=m,this.addChild(H),k&&H.drag({localBounds:!0});var J=this.vIndicator=new a.Shape,K=J.graphics;J.alpha=m,this.addChild(J),k&&J.drag({localBounds:!0})}var L,M,N,O,P,Q,R;if(this.update=function(){j&&(I.clear(),K.clear()),P=j?G.size+2*G.spacing:0,Q=D.getBounds().width,R=D.getBounds().height,N=Q>b-u&&(i===!0||"auto"==i||"horizontal"==i),O=R>c-v&&(i===!0||"auto"==i||"vertical"==i),y.scrollXMax=Q+2*u-b+(O?P+G.margin:0),y.scrollYMax=R+2*v-c+(N?P+G.margin:0),C.clear(),C.f("rgba(0,0,0,.01)").rr(f/2,f/2,b-(O&&j?G.size+2*G.spacing:0)-(O?0:f),c-(N&&j?G.size+2*G.spacing:0)-(N?0:f),h);var d=Math.max(h,Math.min(G.corner,G.spacing)),e=d+f/2,g=d+(O?P:0)+f/2,m=d+f/2,n=d+(N?P:0)+f/2;if(N&&j&&(indicatorLength=Math.max(20,(b-e-g)*(b-e-g)/(Q+u+G.margin)),I.f(l).rr(0,0,indicatorLength,G.size,G.corner),H.x=e,H.y=c-G.size-G.spacing,L=new a.Proportion(-y.scrollXMax,0,e,b-indicatorLength-g,-1),k)){H.setBounds(0,0,indicatorLength,G.size);var o=new createjs.Rectangle(e,H.y,b-indicatorLength-e-g,0);H.dragRect(o),H.proportion=new a.Proportion(o.x,o.x+o.width,0,-y.scrollXMax),H.on("pressmove",function(){D.x=H.proportion.convert(H.x)})}if(O&&j&&(indicatorLength=Math.max(20,(c-m-n)*(c-m-n)/(R+v+G.margin)),K.f(l).rr(0,0,G.size,indicatorLength,G.corner),J.x=b-G.size-G.spacing,J.y=m,M=new a.Proportion(-y.scrollYMax,0,m,c-indicatorLength-n,-1),k)){J.setBounds(0,0,G.size,indicatorLength);var o=new createjs.Rectangle(J.x,m,0,c-indicatorLength-m-n);J.dragRect(o),J.proportion=new a.Proportion(o.y,o.y+o.height,0,-y.scrollYMax),J.on("pressmove",function(){D.y=J.proportion.convert(J.y)})}setTimeout(function(){S()},300)},this.add=function(a){return a.getBounds()?(D.addChild(a),0==a.x&&(a.x=u),0==a.y&&(a.y=v),void y.update()):void zog("SwipeBox.add() - please add content with bounds set")},this.remove=function(a){D.removeChild(a),y.update()},i&&D.on("mousedown",function(){j&&a.Ticker.add(T,D.stage),N&&j&&n&&a.animate(H,{alpha:m},G.showTime),O&&j&&n&&a.animate(J,{alpha:m},G.showTime)}),this.on("added",U,null,!0),o?D.on("slidestop",V):D.on("mousedown",function(){D.stage.on("stagemouseup",V,null,!0)}),r){var W,X;D.on("mousedown",function(){W=D.stage.mouseX,X=Date.now()}),D.on("click",function(){Date.now()-X<600&&Math.abs(D.stage.mouseX-W)<5&&(y.contentMouse=D.globalToLocal(D.stage.mouseX,D.stage.mouseY),y.dispatchEvent("select"))}),D.on("mouseover",Z),D.on("mouseout",$);var Y,_=0,aa=0,ba=0,ca=0,da=300,ea=2,fa=!1}Object.defineProperty(y,"scrollX",{get:function(){return D.x},set:function(a){D.x=a,T()}}),Object.defineProperty(y,"scrollY",{get:function(){return D.y},set:function(a){D.y=a,T()}}),this.clone=function(w){zot(w)&&(w=!0);var x=y.cloneProps(new a.Window(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v));return w&&(y.content.cloneChildren(x.content),x.update()),x},this.dispose=function(){return this.removeAllEventListeners(),D.removeAllEventListeners(),a.Ticker.remove(ga),a.Ticker.remove(T),a.noDrag(D),!0}},a.extend(a.Window,a.Container,"clone","zimContainer",!1),a.Waiter=function(b,c,d,e,f,g,h,i){var k,j="container, speed, color, circleColor, corner, shadowColor, shadowBlur, fadeTime";if(k=zob(a.Waiter,arguments,j,this))return k;if(z_d("59"),this.zimContainer_constructor(),zot(b)||!b.getBounds)return void zog("zim build - Waiter(): Please pass in a reference to a container with bounds set as first parameter");if(!b.getBounds())return void zog("zim build - Waiter(): Please give the container bounds using setBounds()");if(zot(b.getStage))return void zog("zim build - Waiter(): Please give the container that has a stage property");zot(c)&&(c=600),zot(d)&&(d="orange"),zot(e)&&(e="white"),zot(f)&&(f=16),zot(g)&&(g="rgba(0,0,0,.3)"),zot(h)&&(h=14),zot(i)&&(i=0);var l=40,m=3,n=.6*l/2,o=(l-2*n)/2,p=m*(2*n+o)+o;this.setBounds(-p/2,-l/2,p,l);var q=this,r=this.display=new createjs.Shape;this.addChild(r),r.setBounds(0,0,p,l),r.regX=p/2,r.regY=l/2;var s=r.graphics;s.f(d),s.rr(0,0,p,l,f),g!=-1&&h>0&&(r.shadow=new createjs.Shadow(g,3,3,h)),r.on("click",function(a){a.stopImmediatePropagation()});var t=new a.Container;this.addChild(t);for(var u,v=0;v<m;v++)u=new createjs.Shape,u.graphics.f(e).dc(0,0,n),u.x=(v-(m-1)/2)*(2*n+o),t.addChild(u),u.cache(-n,-n,2*n,2*n),u.alpha=0;this.hide=function(){function a(){b.removeChild(q),b.getStage().update()}i>0?q.animate({obj:{alpha:0},time:i,call:a}):a()},this.show=function(){for(var a,d=0,e=0;e<t.getNumChildren();e++)q.alpha=0,createjs.Tween.get(q,{override:!0}).to({alpha:1
},300),setTimeout(function(){a=t.getChildAt(d),createjs.Tween.get(a,{loop:!0}).to({alpha:1},c/m/2).wait(c/m).to({alpha:0},c/m).wait(c-c/m-c/m/2),d++},e*c/m);q.ticker=createjs.Ticker.on("tick",function(){b.getStage().update()}),q.x=b.getBounds().width/2,q.y=b.getBounds().height/2,b.addChild(q),i>0&&(q.alpha=0,q.animate({alpha:1},i))},this.clone=function(){return q.cloneProps(new a.Waiter(b,c,d,e,f,g,h,i))},this.dispose=function(){return q.ticker&&createjs.Ticker.off("tick",q.ticker),r.removeAllEventListeners(),q.removeChild(r),q.removeChild(t),r=null,t=null,!0}},a.extend(a.Waiter,a.Container,"clone","zimContainer",!1),a.Indicator=function(b,c,d,e,f,g,h,i,j,k,l,m,n,o){function D(b){b>=d&&(b=-1);for(var c,g=0;g<d;g++)c=j&&g<b?e:f,g==b&&(c=e),w.getChildAt(g).color=c;!a.OPTIMIZE&&s.getStage()&&s.getStage().update()}var q,p="width, height, num, color, offColor, borderColor, backingColor, type, fill, scale, lightScale, press, shadowColor, shadowBlur";if(q=zob(a.Indicator,arguments,p,this))return q;z_d("60"),this.zimContainer_constructor(),zot(b)&&(b=300),zot(c)&&(c=50),zot(d)&&(d=6),zot(e)&&(e="#f58e25"),zot(f)&&(f="#666"),f<0&&(f="rgba(0,0,0,.01)"),g<0&&(g=null),zot(h)&&(h=-1),zot(i)&&(i="dot"),zot(j)&&(j=!1),zot(k)&&(k=1),zot(l)&&(l=1),zot(m)&&(m=!1),zot(n)&&(n="rgba(0,0,0,.3)"),zot(o)&&(o=5);var r="mousedown"==a.ACTIONEVENT?"mousedown":"click",s=this;this.lights=[];var t;new a.Container;if(h!=-1){var v=new a.Rectangle(b,c,h);this.addChild(v),this.backing=v}var w=this.lightsContainer=new a.Container;this.addChild(w);var x,y=.5*c,z=b/(d+1),A=new createjs.Shape;"square"==i||"box"==i?A.graphics.f("black").dr(-z/2/l+y/2,-c/2+y/2,z/l,c):A.graphics.f("black").dr(-z/2/l,-c/2,z/l,c);for(var B=0;B<d;B++)"square"==i||"box"==i?(x=new a.Rectangle(y,y,f,g),x.regX=x.width/2,x.regY=x.height/2):x=new a.Circle(y/2,f,g),this.lights.push(x),x.znum=B,x.scaleX=x.scaleY=l,x.hitArea=A,x.x=z+z*B,x.y=c/2,w.addChild(x);if(w.setBounds(0,0,b,c),w.regX=w.x=b/2,w.regY=w.y=c/2,this.addChild(w),n!=-1&&o>0&&(w.shadow=new createjs.Shadow(n,2,2,o)),m){w.cursor="pointer";w.on(r,function(a){t!=a.target.znum&&(t=a.target.znum,D(t),s.dispatchEvent("change"))})}w.scaleX=w.scaleY=k,Object.defineProperty(this,"selectedIndex",{get:function(){return t},set:function(a){t=Math.floor(a),D(t)}}),Object.defineProperty(this,"num",{get:function(){return d},set:function(a){zon&&zog("num is read only")}}),this.clone=function(){return s.cloneProps(new a.Indicator(b,c,d,e,f,g,h,i,j,k,l,m,n,o))},this.dispose=function(){return s.removeAllEventListeners(),!0}},a.extend(a.Indicator,a.Container,"clone","zimContainer",!1),a.Stepper=function(c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B){function Q(a){var b=String(a).split(".")[1];return b=b?b.length:0}function fa(b,c,d){if(o){da=E.getStage().mouseX,holdY=E.getStage().mouseY,0==da&&(da=1),0==holdY&&(holdY=1),r||(s=1),ea=new a.Proportion(0,t,q,q*s);var e=q;Y=setTimeout(function(){function a(){Z=setTimeout(function(){var f=b;if(r){var g=Math.abs(S-da),i=Math.abs(T-holdY);h?(c||d||(g=0),d&&(i=0)):(c||d||(i=0),d&&(g=0)),(g>=10||i>=10)&&(g>i?(I=h?y:x,f=S-da>0?1:-1,e=ea.convert(Math.abs(da-S))):(I=h?x:y,f=T-holdY>0?-1:1,e=ea.convert(Math.abs(holdY-T))))}la(f),a()},e)}X=!0,a()},p)}}function ga(){X=!1,clearTimeout(Y),clearTimeout(Z)}function la(b){var e;if("number"==u){var f=J;J+=I*b*K,J=a.decimals(J,M),m?J>w?J=v:J<v&&(J=w):(J>w?(J=1==x?w:f,n&&($.cursor="default")):n&&($.cursor="pointer"),J<v&&(J=1==x?v:f))}else{if(e=F+b,m)e>c.length-1&&(e=0),e<0&&(e=c.length-1);else{if(e>c.length-1)return void(n&&($.cursor="default"));if(n&&($.cursor="pointer"),e<0)return}F=e}ma("number"==u?J:c[F],"number"==u?J:F),E.dispatchEvent("change")}function ma(b,d){F=d,n&&("number"==u&&0!=b&&M>0&&(b=a.decimals(b,M,!0)),g.text=b,g.x=$.x+$.getBounds().width/2,g.y=$.y+($.getBounds().height-g.getBounds().height)/2),V.alpha=1,W.color=e,V.cursor="pointer",_.alpha=1,aa.color=e,_.cursor="pointer",m||("number"==u?(F==v&&(K>0?na():oa()),F==w&&(K>0?oa():na())):(0==F&&na(),F==c.length-1&&oa())),!a.OPTIMIZE&&_.getStage()&&_.getStage().update()}function na(){V.alpha=.8,W.color="#aaa",V.cursor="default"}function oa(){_.alpha=.8,aa.color="#aaa",_.cursor="default"}var D,C="list, width, color, borderColor, label, vertical, arrows, corner, shadowColor, shadowBlur, loop, display, hold, holdDelay, holdSpeed, drag, dragSensitivity, dragRange, type, min, max, step, step2, arrows2, arrows2Scale, keyEnabled";if(D=zob(a.Stepper,arguments,C,this))return D;z_d("61"),this.zimContainer_constructor(),zot(c)&&(c=[0,1,2,3,4,5,6,7,8,9]),zot(d)&&(d=200),zot(e)&&(e="white"),zot(f)&&(f=null),zot(g)&&(g=""),"string"!=typeof g&&"number"!=typeof g||(g=new a.Label(g,64,"arial","#555",null,null,null,"center")),zot(h)&&(h=!1),zot(i)&&(i=!0),zot(j)&&(j=16),zot(k)&&(k="rgba(0,0,0,.3)"),zot(l)&&(l=14),zot(m)&&(m=!1),zot(n)&&(n=!0),zot(o)&&(o=!0),zot(p)&&(p=400),zot(q)&&(q=200),zot(r)&&(r=!0),(zot(s)||s<=0)&&(s=.1),zot(t)&&(t=200),zot(u)&&(u="list"),zot(v)&&(v=0),zot(w)&&(w=100),zot(x)&&(x=1),zot(y)&&(y=x),zot(z)&&y!=x&&(z=!0),zot(A)&&(A=.5),zot(B)&&(B=!0);var F,J,M,E=this,G=100,H=G/4,I=x,K=1;if("number"==u){if(v=Number(v),w=Number(w),NaN==v&&(v=0),NaN==w&&(w=100),w<v){K=-1;var N=w;w=v,v=N,J=w}else J=v;0>v&&0<w&&(J=0),x=Math.abs(x),M=Math.max(Q(x),Q(y))}else if("letter"==u){c="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),"string"!=typeof v&&(v="A"),"string"!=typeof w&&(w="Z"),v=v.substr(0,1).toUpperCase(),w=w.substr(0,1).toUpperCase();var O=c.indexOf(v);O<0&&(v="A",O=0);var P=c.indexOf(w);P<0&&(w="Z",P=c.length),P<O&&(c.reverse(),O=c.length-1-O,P=c.length-1-P),c=c.splice(O,P-O+1)}else u="list";var R,S=0,T=0;r&&this.on("mousedown",function(){this.getStage().mouseMoveOutside=!0,R=this.getStage().on("stagemousemove",function(a){S=a.rawX,T=a.rawY})},null,!0),this.label=g,g.mouseChildren=!1,g.mouseEnabled=!1;var U=new createjs.Shape;U.graphics.f("rgba(255,255,255,.11)").r(0,0,1.5*G,1.5*G),U.regX=1.5*G/2,U.regY=1.5*G/2+H/2;var V=this.prev=new a.Container;this.addChild(V),V.hitArea=U;var W=this.arrowPrev=new a.Triangle(G,.8*G,.8*G,e);k!=-1&&l>0&&(V.shadow=new createjs.Shadow(k,3,3,l)),V.addChild(W),V.cursor="pointer";var Y,Z,X=!1;if(V.on("mousedown",function(a){I=x,la(-1),fa(-1)}),o&&V.on("pressup",ga),h?(V.rotation=180,V.x=d/2,n?V.y=V.height+H+G+V.height/2+H:V.y=2*V.height):(V.rotation=-90,V.x=V.height/2,V.y=V.width/2),n){var $=this.textBox=new createjs.Shape;$.cursor="pointer",this.addChild($),$.setBounds(0,0,d,G),null!=f&&$.graphics.s(f).ss(1.5),$.graphics.f(e).rr(0,0,d,G,j),k!=-1&&l>0&&($.shadow=new createjs.Shadow(k,3,3,l)),h?$.y=W.height+H:$.x=W.height+H,this.addChild(g),c.length>0&&(F=0,g.text=c[F]),g.x=50+$.x+$.getBounds().width/2,g.y=$.y+($.getBounds().height-g.getBounds().height)/2}else c.length>0&&(F=0);var _=this.next=new a.Container;this.addChild(_),_.hitArea=U.clone();var aa=this.arrowNext=new a.Triangle(G,.8*G,.8*G,e);k!=-1&&l>0&&(_.shadow=new createjs.Shadow(k,3,3,l)),_.addChild(aa),_.cursor="pointer",_.on("mousedown",function(a){I=x,la(1),fa(1)});var ba,ca=!1;n&&$.on("mousedown",function(a){fa(1,!0),"number"==u&&(clearTimeout(ba),ca=!0,ba=setTimeout(function(){ca=!1},200))}),$.on("pressup",function(){ca&&(J=Math.round(J),ma(J,J),E.dispatchEvent("change"))}),o&&(_.on("pressup",ga),n&&$.on("pressup",ga),clearTimeout(ba)),h?(_.rotation=0,_.x=d/2,_.y=_.getBounds().height/2):(_.rotation=90,n?_.x=$.x+$.getBounds().width+_.getBounds().height/2+H:_.x=V.x+V.getBounds().width,_.y=_.getBounds().width/2);var da,ea;if(z){var ha=this.prev2=new a.Container;ha.hitArea=U.clone();var ia=this.arrowPrev2=new a.Triangle(G,.8*G,.8*G,"rgba(0,0,0,.2)",e,2);ha.addChild(ia),ha.cursor="pointer",ha.scale(A),ha.alpha=.5,ha.on("mousedown",function(a){I=y,la(-1),fa(-1,null,!0)}),o&&ha.on("pressup",ga);var ja=this.next2=new a.Container;ja.hitArea=U.clone();var ka=this.arrowNext2=new a.Triangle(G,.8*G,.8*G,"rgba(0,0,0,.2)",e,2);ja.addChild(ka),ja.cursor="pointer",ja.scale(A),ja.alpha=.5,ja.on("mousedown",function(a){I=y,la(1),fa(1,null,!0)}),o&&ja.on("pressup",ga),h?(ha.y=this.height/2,ha.x=-ha.width/2-H*Math.max(.2,Math.min(1,A)),ha.rotation=270,ja.y=this.height/2,ja.x=this.width+ja.width/2+H*Math.max(.2,Math.min(1,A)),ja.rotation=90):(ja.x=this.width/2,ja.y=-ja.height/2-H*Math.max(.2,Math.min(1,A)),ja.rotation=0,ha.x=this.width/2,ha.y=this.height+ha.height/2+H*Math.max(.2,Math.min(1,A)),ha.rotation=180),this.addChild(ha,ja)}ma("number"==u?J:c[F],"number"==u?J:F),zot(a.focus)&&(a.focus=this),Object.defineProperty(this,"currentIndex",{get:function(){return"number"==u?void 0:F},set:function(a){zot(a)||(a=Math.min(c.length-1,Math.max(0,a)),F=a,ma(c[F],F))}}),Object.defineProperty(this,"currentValue",{get:function(){return"number"==u?J:c[F]},set:function(a){if(!zot(a))if("number"==u){if(w>v){if(a>w||a<v)return}else if(a<w||a>v)return;J=a,ma(J,J)}else{if(c.indexOf(a)>-1&&(a=c.indexOf(a)),a==E.currentIndex)return;F=a,ma(c[F],F)}}}),Object.defineProperty(this,"loop",{get:function(){return m},set:function(a){m=a,"number"==u?ma(J,J):ma(c[E.currentIndex],E.currentIndex)}}),Object.defineProperty(this,"stepperArray",{get:function(){return c},set:function(a){c=a,E.currentIndex=E.currentIndex}}),Object.defineProperty(this,"focus",{get:function(){return a.focus==E},set:function(b){b?a.focus=E:a.focus==E&&(a.focus=null)}}),this._enabled=!0,Object.defineProperty(E,"enabled",{get:function(){return E._enabled},set:function(d){b(E,d),d?("number"==u?ma(J,J):ma(c[E.currentIndex],E.currentIndex),window.addEventListener("keydown",E.keyDownEvent)):(na(),oa(),window.removeEventListener("keydown",E.keyDownEvent),n&&(g.mouseChildren=!1),n&&(g.mouseEnabled=!1)),!a.OPTIMIZE&&_.getStage()&&_.getStage().update()}});var pa=!1,qa=!1,ra=!1;this.on("mousedown",function(){a.focus=E,pa=!0,qa=!1,ra=!1}),this.keyDownEvent=function(b){if(a.focus==E){b||(b=event);var c=b.keyCode;if(i&&c>=37&&c<=40){38==c||39==c?la(1):37!=c&&40!=c||la(-1)}if(B&&"number"==u){var e;!b.shiftKey&&c>=48&&c<=57?e=c-48:c>=96&&c<=105?e=c-96:190==c?qa=!0:173==c||189==c?(E.currentValue=E.currentValue*-1,E.dispatchEvent("change"),ra=!ra):46==c&&(pa=!0,qa=!1),pa&&!zot(e)?(qa&&(e/=10),ra&&(e*=-1),E.currentValue=e,pa=!1,E.dispatchEvent("change")):zot(e)||(qa&&(e=String(e/10).substr(1)),E.currentValue=Number(Math.floor(Number(g.text))+String(e)),E.dispatchEvent("change"))}}},window.addEventListener("keydown",this.keyDownEvent),this.next=function(){la(1)},this.prev=function(){la(-1)},this.clone=function(){return E.cloneProps(new a.Stepper(c,d,e,f,g.clone(),h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B))},this.dispose=function(){return E.removeAllEventListeners(),window.removeEventListener("keydown",E.keyDownEvent),stage.off(R),!0}},a.extend(a.Stepper,a.Container,"clone","zimContainer",!1),a.Slider=function(c,d,e,f,g,h,i,j,k,l){function F(a){return 0==e?a:Math.round(a/e)*e}function I(b){var e=s.globalToLocal(b.stageX,b.stageY),g=J(e.x-G,e.y-H,w);j?(f.x=g.x,t=F((g.y-w.y)/w.height*(d-c)),f.y=w.y+t*w.height/(d-c),t+=c,f.y!=u&&s.dispatchEvent("change"),u=f.y):(t=F((g.x-w.x)/w.width*(d-c)),f.x=w.x+t*w.width/(d-c),t+=c,f.y=g.y,f.x!=u&&s.dispatchEvent("change"),u=f.x),!a.OPTIMIZE&&s.getStage()&&s.getStage().update()}function J(a,b,c){return a=Math.max(c.x,Math.min(c.x+c.width,a)),b=Math.max(c.y,Math.min(c.y+c.height,b)),{x:a,y:b}}var n,m="min, max, step, button, barLength, barWidth, barColor, vertical, useTicks, inside";if(n=zob(a.Slider,arguments,m,this))return n;if(z_d("62"),this.zimContainer_constructor(),zot(c)&&(c=0),zot(d)&&(d=10),d-c==0)return void zog("ZIM Slider range must not be 0");if(zot(e)&&(e=0),zot(g)&&(g=300),zot(h)&&(h=3),zot(i)&&(i="#666"),zot(j)&&(j=!1),zot(k)&&(k=!1),zot(l)&&(l=!1),zot(f)){var o=30,p=40;j&&(o=50,p=40),f=new a.Button(o,p,"","#fff","#ddd","#666",1,0,null,null,30)}f.rollPersist=!0;var q,r;j?(q=f.width,l?(r=g,this.setBounds(0,0,q,r)):(r=g+f.height,this.setBounds(-f.width/2,-f.height/2,q,r))):(r=f.height,l?(q=g,this.setBounds(0,0,q,r)):(q=g+f.width,this.setBounds(-f.width/2,-f.height/2,q,r)));var s=this,t=c,u=0;this.button=f,this.cursor="pointer";var v,w,x,y,z;if(k&&0!=e){y=this.ticks=new createjs.Shape,this.addChild(y),z=y.graphics,z.ss(1).s(i);var A=Math.round((d-c)/e),B=(d-c)/A;if(B!=e&&zon&&zog("zim.Slider() : non-divisible step ("+e+") adjusted"),e=B,l)var C=(g-(j?f.height:f.width))/A;else var C=g/A}if(j){var D=l?f.height/2:0;if(k&&0!=e){for(var E=0;E<=A;E++)z.mt(0,D+C*E).lt(20,D+C*E);y.x=10}v=this.bar=new a.Rectangle(h,g,i),this.addChild(v),a.centerReg(f),this.addChild(f),x=v.getBounds(),w=new createjs.Rectangle(x.width/2,x.y+D,0,x.height-2*D)}else{var D=l?f.width/2:0;if(k&&0!=e){for(var E=0;E<=A;E++)z.mt(D+C*E,0).lt(D+C*E,-20);y.y=-10}v=this.bar=new a.Rectangle(g,h,i),this.addChild(v),a.centerReg(f),this.addChild(f),x=v.getBounds(),w=new createjs.Rectangle(x.x+D,x.height/2,x.width-2*D,0)}f.x=w.x,f.y=w.y;var G,H;f.on("mousedown",function(a){var b=s.globalToLocal(a.stageX,a.stageY);G=b.x-f.x,H=b.y-f.y,s.getStage()&&(s.getStage().mouseMoveOutside=!0)}),f.on("pressmove",function(a){I(a)}),v.on("mousedown",function(a){G=f.width/2,H=f.height/2,I(a)}),Object.defineProperty(this,"currentValue",{get:function(){return t},set:function(b){zot(b)||(c<d?(b<c&&(b=c),b>d&&(b=d)):(b>c&&(b=c),b<d&&(b=d)),t=b=F(b),j?(f.y=(b-c)/(d-c)*w.height+D,u=f.y):(f.x=(b-c)/(d-c)*w.width+D,u=f.x),!a.OPTIMIZE&&s.getStage()&&s.getStage().update())}}),Object.defineProperty(this,"min",{get:function(){return c},set:function(a){zon&&zog("min is read only")}}),Object.defineProperty(this,"max",{get:function(){return d},set:function(a){zon&&zog("max is read only")}}),Object.defineProperty(this,"step",{get:function(){return e},set:function(a){zon&&zog("step is read only")}}),this._enabled=!0,Object.defineProperty(s,"enabled",{get:function(){return s._enabled},set:function(a){b(s,a)}}),this.clone=function(){return s.cloneProps(new a.Slider(c,d,e,f.clone(),g,h,i,j,k,l))},this.dispose=function(){return f.removeAllEventListeners(),!0}},a.extend(a.Slider,a.Container,"clone","zimContainer",!1),a.Dial=function(c,d,e,f,g,h,i,j,k,l,m,n,o,p){function G(a){return 0==e?a:Math.round(a/e)*e}function N(b){var f;b<0&&(b+=360),b%=360,0!=e?(b=Math.min(b,360-360/(B+1)),f=G(b/(360-360/(B+1))*(d-c)),E.rotation=f*(360-360/(B+1))/(d-c)):(E.rotation=b,f=b/360*(d-c)),f!=v&&(v=f,u=f+c,s.dispatchEvent("change"),!a.OPTIMIZE&&s.getStage()&&s.getStage().update())}var r,q="min, max, step, width, color, indicatorColor, indicatorScale, type, innerCircle, innerScale, useTicks, innerTicks, tickColor, limit";if(r=zob(a.Dial,arguments,q,this))return r;if(z_d("63"),this.zimContainer_constructor(),zot(c)&&(c=0),zot(d)&&(d=10),d-c==0)return void zog("ZIM Dial range must not be 0");zot(e)&&(e=1),zot(f)&&(f=100),zot(g)&&(g="#666"),zot(h)&&(h="#222"),zot(i)&&(i=1),zot(j)&&(j="arrow"),zot(k)&&(k=!0),zot(l)&&(l=.5),zot(m)&&(m=!0),zot(n)&&(n=!1),zot(o)&&(o=h),zot(p)&&(p=!0);var s=this;this.cursor="pointer";var t=f/2,u=c,v=0,w=this.backing=new a.Circle(t,g);if(this.addChild(w),k){var x=n?"rgba(0,0,0,.2)":"rgba(0,0,0,.1)";"black"!=g&&"#000"!=g&&"#000000"!=g&&"#111"!=g&&"#111111"!=g||(x="#222");var y=this.inner=new a.Circle(t*l,x);if(this.addChild(y),!n){var z="rgba(0,0,0,.1)",A=this.inner2=new a.Circle(t*(l-.1),z);this.addChild(A)}}var B=(d-c)/e;if(m&&0!=e){ticks=this.ticks=new a.Container,this.addChild(ticks);for(var C,D=0;D<B+1;D++){var C=new a.Rectangle(1,.2*t,o);C.regY=t*(n?l-.05:1.28),C.regX=.5,C.rotation=360/(B+1)*D,ticks.addChild(C)}}if(this.setBounds(-t,-t,f,f),"dot"==j||"circle"==j){var E=this.indicator=new a.Container,F=this.indicatorShape=new a.Circle(.19*t,h);E.addChild(F),a.scale(E,i),E.regY=t-E.getBounds().width*i/2-.07*t}else if("line"==j||"rectangle"==j){var E=this.indicator=new a.Container,F=this.indicatorShape=new a.Rectangle(.1*t,.3*t,h);E.addChild(F),a.scale(E,i),E.regY=t-E.getBounds().width*i/2-.07*t,E.regX=.05*t}else{var E=this.indicator=new a.Container,F=this.indicatorShape=new a.Triangle(.4*t,.4*t,.4*t,h);E.addChild(F),a.scale(E,i),E.regY=t-E.getBounds().height*i*(n?.85:.75),n&&(F.rotation=180)}E.regY/=i,this.addChild(E);var H,I,J,K,L=0;this.on("mousedown",function(){H=E.rotation;var a=s.parent.globalToLocal(s.getStage().mouseX,s.getStage().mouseY),b=a.x-s.x,c=s.y-a.y;I=180*Math.atan2(b,c)/Math.PI;var d=(new Date).getTime();J=s.on("pressmove",function(){a=s.parent.globalToLocal(s.getStage().mouseX,s.getStage().mouseY),b=a.x-s.x,c=s.y-a.y;var d=H+180*Math.atan2(b,c)/Math.PI-I;p&&(d<0&&(d+=360),d%=360,Math.abs(d-L)>180)||(L=d,N(d))}),K=this.on("pressup",function(){var e=(new Date).getTime()-d;if(e<200){a=s.parent.globalToLocal(s.getStage().mouseX,s.getStage().mouseY),b=a.x-s.x,c=s.y-a.y;var f=180*Math.atan2(b,c)/Math.PI;N(f)}H=E.rotation,s.off("pressmove",J),s.off("pressup",K)})}),Object.defineProperty(this,"currentValue",{get:function(){return u},set:function(b){zot(b)||(c<d?(b<c&&(b=c),b>d&&(b=d)):(b>c&&(b=c),b<d&&(b=d)),u=b,b=G(b),0!=e?E.rotation=(b-c)*(360-360/(B+1))/(d-c):E.rotation=360*(b-c)/(d-c),v=b-c,L=E.rotation,!a.OPTIMIZE&&s.getStage()&&s.getStage().update())}}),Object.defineProperty(this,"min",{get:function(){return c},set:function(a){zon&&zog("min is read only")}}),Object.defineProperty(this,"max",{get:function(){return d},set:function(a){zon&&zog("max is read only")}}),Object.defineProperty(this,"step",{get:function(){return e},set:function(a){zon&&zog("step is read only")}}),this._enabled=!0,Object.defineProperty(s,"enabled",{get:function(){return s._enabled},set:function(a){b(s,a)}}),this.clone=function(){return s.cloneProps(new a.Dial(c,d,e,f,g,h,i,j,k,l,m,n,o,p))},this.dispose=function(){return s.removeAllEventListeners(),!0}},a.extend(a.Dial,a.Container,"clone","zimContainer",!1),a.Tabs=function(c,d,e,f,g,h,i,j,k,l,m,n,o,p){function G(a){var b=e[t];b&&(v[t].color=zot(b.offColor)?h:b.offColor,j||(v[t].enabled=!0)),t=a,b=e[t],b&&(v[t].color=zot(b.color)?f:b.color,j||(v[t].enabled=!1))}var r,q="width, height, tabs, color, rollColor, offColor, spacing, currentEnabled, corner, labelColor, flatBottom, keyEnabled, gradient, gloss";if(r=zob(a.Tabs,arguments,q,this))return r;z_d("65"),this.zimContainer_constructor(),zot(c)&&(c=240),zot(d)&&(d=60),(zot(e)||e.length<=0)&&(e=[{label:1},{label:2},{label:3},{label:4}]),zot(f)&&(f="#333"),zot(g)&&(g="#555"),zot(h)&&(h="#777"),zot(j)&&(j=!1),zot(i)&&(i=1),zot(k)&&(k=0),zot(l)&&(l="white"),zot(m)&&(m=!0),zot(n)&&(n=!0);var s=this;this.keyEnabled=n;var w,x,t=0,u=[],v=[],y=e.length,z=(c-i*(y-1))/y;if("number"==typeof e[0]||"string"==typeof e[0])for(var A=0;A<e.length;A++)e[A]={label:String(null!=e[A])?e[A]:"1"};for(var x,C,B=0,D=0,A=0;A<e.length;A++)x=e[A],zot(x.width)&&D++,B+=zot(x.width)?z:x.width;if(B>c-i*(y-1))for(A=0;A<e.length;A++)x=e[A],x.width=(c-i*(y-1))/B*(zot(x.width)?z:x.width);else if(Math.round(B)<Math.round(c-i*(y-1)))if(D>0)for(C=(B-D*z)/D,A=0;A<e.length;A++)x=e[A],x.width=zot(x.width)?C:x.width;else zon&&zog("ZIM Tabs - total less than width"),this.width=B+i*(y-1);var F,E=0;for(A=0;A<e.length;A++)x=e[A],zot(x.label)&&(x.label=" "),F=0==A?zot(x.color)?f:x.color:zot(x.offColor)?h:x.offColor,"string"!=typeof x.label&&"number"!=typeof x.label||(x.label=new a.Label(x.label,d/2,"arial",l)),w=new a.Button(zot(x.width)?z:x.width,d,x.label,F,zot(x.rollColor)?g:x.rollColor,null,null,k,-1,null,null,o,p,m),w.znum=A,x.label.znum=A,u.push(x.label),v.push(w),this.addChild(w),w.x=E,E=w.x+w.width+i,0!=A||j||(w.enabled=!1);this.on("mousedown"==a.ACTIONEVENT?"mousedown":"click",function(b){G(b.target.znum),s.dispatchEvent("change"),!a.OPTIMIZE&&s.getStage()&&s.getStage().update()}),window.addEventListener("keydown",function(b){if(s.keyEnabled&&9==b.keyCode){var c=t;G(b.shiftKey?--c<0?e.length-1:c:++c>e.length-1?0:c),s.dispatchEvent("change"),!a.OPTIMIZE&&s.getStage()&&s.getStage().update(),b.preventDefault()}}),Object.defineProperty(this,"selected",{get:function(){return v[t]},set:function(a){zon&&zog("selected is read only - try selectedIndex")}}),Object.defineProperty(this,"selectedIndex",{get:function(){return t},set:function(b){G(b),!a.OPTIMIZE&&s.getStage()&&s.getStage().update()}}),Object.defineProperty(this,"tabs",{get:function(){return t},set:function(b){G(Math.min(Math.max(b,0),e.length-1)),!a.OPTIMIZE&&s.getStage()&&s.getStage().update()}}),Object.defineProperty(this,"color",{get:function(){return f},set:function(b){f=b,zot(e[t].color)&&(v[t].color=f,!a.OPTIMIZE&&s.getStage()&&s.getStage().update())}}),Object.defineProperty(this,"rollColor",{get:function(){return g},set:function(a){g=a;for(var b=0;b<e.length;b++)zot(e[t].rollColor)&&(v[b].rollColor=g)}}),Object.defineProperty(this,"offColor",{get:function(){return h},set:function(b){h=b;for(var c=0;c<e.length;c++)zot(e[t].offColor)&&(v[c].color=h);!a.OPTIMIZE&&s.getStage()&&s.getStage().update()}}),Object.defineProperty(this,"label",{get:function(){return u[t]},set:function(a){zon&&zog("selected is read only - try selectedIndex")}}),Object.defineProperty(this,"text",{get:function(){return null!=u[t]?u[t].text:void 0},set:function(a){zon&&zog("selected is read only - try selectedIndex")}}),Object.defineProperty(this,"buttons",{get:function(){return v},set:function(a){zon&&zog("buttons is read only")}}),Object.defineProperty(this,"labels",{get:function(){return u},set:function(a){zon&&zog("labels is read only")}}),this._enabled=!0,Object.defineProperty(s,"enabled",{get:function(){return s._enabled},set:function(a){b(s,a)}}),this.clone=function(){for(var b=a.copy(e),q=0;q<b.length;q++)b[q].label=b[q].label.clone();return s.cloneProps(new a.Tabs(c,d,b,f,g,h,i,j,k,l,m,n,o,p))},this.dispose=function(){for(var a=0;a<s.buttons.length;a++)s.buttons[a].dispose(),s.labels[a].dispose();return s.removeAllEventListeners(),!0}},a.extend(a.Tabs,a.Container,"clone","zimContainer",!1),a.Pad=function(c,d,e,f,g,h,i,j,k,l,m){function y(b){var c=b.target;p.selected=c.selected,p.text=c.text,p.label=c.label;for(var e=c.selectedIndex,f=0;f<s.length;f++)s[f].selectedIndex=-1;c.selectedIndex=e,q=c.znum*d+e,p.dispatchEvent("change"),!a.OPTIMIZE&&p.getStage()&&p.getStage().update()}var o,n="width, cols, rows, keys, color, rollColor, offColor, spacing, currentEnabled, corner, labelColor";if(o=zob(a.Pad,arguments,n,this))return o;z_d("66"),this.zimContainer_constructor(),zot(c)&&(c=150),zot(d)&&(d=3),zot(e)&&(e=d),zot(f)&&(f=[1,2,3,4,5,6,7,8,9]),zot(k)&&(k=!0),zot(j)&&(j=1);var q,p=this;this.cols=d,this.rows=e;var u,r=c/d-j,s=[],t=0;this.labels=[],this.buttons=[];for(var v=0;v<e;v++){for(var w=[],x=0;x<d;x++)w.push(null!=f[t]?f[t]:""),t++;u=s[v]=new a.Tabs(c,r,w,g,h,i,j,k,l,m,!1,!1),this.labels=this.labels.concat(u.labels),this.buttons=this.buttons.concat(u.buttons),this.addChild(u),u.selectedIndex=-1,u.y=(r+j)*v,u.znum=v,u.on("change",y)}this.tabs=s,Object.defineProperty(this,"selectedIndex",{get:function(){return q},set:function(a){q=a;for(var b=0;b<s.length;b++)s[b].selectedIndex=-1;var c=Math.floor(q/d);c>=0&&c<p.tabs.length&&(p.tabs[c].selectedIndex=q%d)}}),this._enabled=!0,Object.defineProperty(p,"enabled",{get:function(){return p._enabled},set:function(a){b(p,a)}}),this.clone=function(){return p.cloneProps(new a.Pad(c,d,e,f,g,h,i,j,k,l,m))},this.dispose=function(){for(var a=0;a<p.tabs.length;a++)p.tabs[a].dispose();return p.removeAllEventListeners(),!0}},a.extend(a.Pad,a.Container,"clone","zimContainer",!1),a.ColorPicker=function(b,c,d,e,f,g,h,i,j,k,l,m,n,o){function O(a){return a=Math.floor(a).toString(16),a+""+a}function X(a){"#000"==M||"#000000"==M||"black"==M?(n.color="#222",n.alpha=1):(n.color="black",n.alpha=.5),n.x=w.x+a%d*(z+e)+z/2,n.y=w.x+Math.floor(a/d)*(z+e)+z/2}function la(){if(M!=N||v!=u){if(x&&f){t=s,s=N;var b=[t,s];for(E=0;E<2;E++){var c=w.graphics;H=Math.floor(E/d),I=E%d,R=I*(z+e),S=H*(z+e)+U,A[E]=b[E],c.f(ka.color).r(R-1,S-1,z+2,z+2).f(b[E]).r(R,S,z,z)}!a.OPTIMIZE&&r.getStage()&&r.getStage().update()}N=M,u=v,r.dispatchEvent("change")}else r.dispatchEvent("close")}function sa(a){return Math.round(a*Math.pow(10,2))/Math.pow(10,2)}var q,p="width, colors, cols, spacing, greyPicker, alphaPicker, startColor, drag, shadowColor, shadowBlur, buttonBar, circles, indicator, backingColor";if(q=zob(a.ColorPicker,arguments,p,this))return q;z_d("67"),this.zimContainer_constructor(),zot(b)&&(b=500),zot(c)&&(x=!0),zot(d)&&(d=10),zot(e)&&(e=2),zot(g)&&(g=!0),zot(f)&&(f=!0),zot(i)&&(i=!0),zot(j)&&(j="rgba(0,0,0,.3)"),zot(k)&&(k=14),zot(l)&&(l=!0),zot(m)&&(m=!1),zot(n)&&(n=!1,l||(n=!0)),zot(o)&&(o="black");var r=this,s="#e472c4",t="#50c4b7",u=1,v=1,w=new createjs.Shape;this.addChild(w),w.x+=e,w.y+=e;var y,z,x=!1,A=[];if(zot(c)){x=!0;var B=6,C=B*B*B;B=Math.ceil(Math.pow(C,.5)),z=(b-e)/18-e;var D=Math.floor(Math.pow(B*B,1/3));y=[];for(var E=0;E<6;E++)for(var F=0;F<6;F++)for(var G=0;G<6;G++)y.push("#"+O(3*E)+O(3*F)+O(3*G));c=[];var H,I,J,K;for(E=0;E<y.length;E++)H=Math.floor(E/6),I=E%6,D=H>=18?1:0,J=H-6*D*3,K=I+6*D,c[18*K+J]=y[E];d=18,A=[t,s]}else z=(b-e)/d-e;var L=Math.ceil(c.length/d),M=String(c[c.length-1]);zot(h)||(M=String(h));var I,H,R,S,N=t,P=w.graphics,D=0;for(E=0;E<c.length;E++)H=E%d,I=Math.floor(E/d),R=H*(z+e),S=I*(z+e),m?P.f(c[E]).dc(R+z/2,S+z/2,z/2):P.f(c[E]).r(R,S,z,z);var T=S+z+e,U=T;if(f){for(E=0;E<16;E++)A.push("#"+O(E)+O(E)+O(E));for(E=0;E<A.length;E++)H=Math.floor(E/d),I=E%d,R=I*(z+e),S=H*(z+e)+T,m?P.f(A[E]).dc(R+z/2,S+z/2,z/2):P.f(A[E]).r(R,S,z,z);T=S+z+e;var V=d,W=Math.ceil(A.length/d)}n&&(n=this.indicator=m?new a.Circle(z/2*.5):new a.Rectangle(.5*z,.5*z),n.alpha=.5,n.centerReg(),this.addChild(n),X(c.indexOf(M)));var Y=10;if(g){var Z=new a.Container;Z.setBounds(0,0,600,70),this.addChild(Z),Z.x=0,Z.y=T;var $=this.alphaBacking=new a.Rectangle(600-2*Y,50,"#222",null,null,0);Z.addChild($),a.centerReg($,Z);var _=this.alphaBut=new a.Button({width:20,height:30,label:"",corner:0,hitPadding:20}),aa=this.alphaSlider=new a.Slider(0,1,.05,_,330);aa.currentValue=1,Z.addChild(aa),aa.x=40,aa.y=Z.height/2;var ba=this.alphaText=new a.Label("Alpha: 1",30,null,"orange");Z.addChild(ba),ba.x=aa.x+aa.bar.width+40,ba.y=Z.height/2-ba.height/2,Z.scaleX=Z.scaleY=b/600,aa.on("change",function(){ba.text="Alpha: "+sa(aa.currentValue),ia&&(ia.alpha=v=aa.currentValue),r.getStage()&&r.getStage().update()}),T+=Z.height-Y}if(l){var ca=new a.Container;ca.setBounds(0,0,600,100),this.addChild(ca),ca.x=0,ca.y=T+Y;var da=this.swatchText=new a.Label(M.toUpperCase().substr(0,7),30,null,"orange");if(ca.addChild(da),a.centerReg(da),da.x=90,da.y=48,i){var ea=this.grip=new createjs.Shape;ca.addChild(ea),ea.graphics.f("rgba(256,256,256,.25)").r(0,0,5,20).r(10,0,5,20).r(20,0,5,20).r(30,0,5,20),ea.x=70,ea.y=65,da.y=40}var fa=this.closeBut=new a.Button(90,90,"X","#222","#444",null,null,0);ca.addChild(fa),fa.x=600-fa.width-Y,fa.y=0,fa.on("mousedown"==a.ACTIONEVENT?"mousedown":"click",function(){r.dispatchEvent("close")});var ga=this.okBut=new a.Button(150,90,"OK","#222","#444",null,null,0);ca.addChild(ga),ga.x=fa.x-ga.width-Y,ga.y=0,ga.on("mousedown"==a.ACTIONEVENT?"mousedown":"click",la);var ha=this.swatchBacking=new createjs.Shape;ca.addChild(ha);var P=ha.graphics;P.f("black").r(.5,.5,50,89).f("#666").r(50,.5,50,89).f("white").r(100,.5,49.5,89),ha.x=ga.x-150-Y,ha.y=0;var ia=this.swatch=new a.Rectangle(150,90,M);ca.addChild(ia),ia.x=ha.x,ia.y=0,ia.on("mousedown"==a.ACTIONEVENT?"mousedown":"click",la),ia.cursor="pointer",ca.scaleX=ca.scaleY=b/600,T+=ca.height}else w.cursor="pointer";g||l||(T-=Y-e);var ja=T+Y;this.setBounds(0,0,b,ja);var ka=this.backing=new a.Rectangle(b,ja,o);if(this.addChildAt(ka,0),j!=-1&&k>0&&(ka.shadow=new createjs.Shadow(j,8,8,k)),i){var ma,na;ka.on("mousedown",function(a){ma=a.stageX-r.x,na=a.stageY-r.y,ka.cursor="move"}),ka.on("pressmove",function(a){r.x=a.stageX-ma,r.y=a.stageY-na,r.getStage()&&r.getStage().update()}),ka.on("pressup",function(a){ka.cursor="default",r.getStage()&&r.getStage().update()})}var oa=d*(z+e),pa=L*(z+e);if(f)var qa=V*(z+e),ra=W*(z+e);w.on("mousedown"==a.ACTIONEVENT?"mousedown":"click",function(){var b=a.hitTestGrid(w,oa,pa,d,L,r.getStage().mouseX,r.getStage().mouseY,0,0,e,e);zot(b)||(M=c[b],l?(ia.color=M,da.text=String(c[b]).toUpperCase().substr(0,7),a.centerReg(da)):la()),f&&(b=null,b=a.hitTestGrid(w,qa,ra,V,W,r.getStage().mouseX,r.getStage().mouseY,0,pa,e,e),zot(b)||(M=A[b],l?(ia.color=M,da.text=A[b].toUpperCase(),a.centerReg(da)):la())),n&&X(c.indexOf(M)),l?r.getStage()&&r.getStage().update():n&&!a.OPTIMIZE&&r.getStage()&&r.getStage().update()}),Object.defineProperty(this,"selectedColor",{get:function(){return M},set:function(b){N=M=b,l&&(ia.color=M,da.text=M,a.centerReg(da),r.getStage()&&r.getStage().update()),n&&X(c.indexOf(M))}}),Object.defineProperty(this,"selectedIndex",{get:function(){return c.indexOf(M)},set:function(b){N=M=c[b],l&&(ia.color=M,da.text=M,a.centerReg(da),r.getStage()&&r.getStage().update()),n&&X(c.indexOf(M))}}),Object.defineProperty(this,"selectedAlpha",{get:function(){return g?sa(aa.currentValue):1},set:function(a){g&&(u=ia.alpha=aa.currentValue=a,ba.text="Alpha: "+sa(aa.currentValue),r.getStage()&&r.getStage().update())}}),this.clone=function(){return r.cloneProps(new a.ColorPicker(b,x?null:c,d,e,f,g,h,i,j,k,l,m,n,o))},this.dispose=function(){return aa.dispose(),w.removeAllEventListeners(),ka.removeAllEventListeners(),fa.removeAllEventListeners(),ia.removeAllEventListeners(),ga.removeAllEventListeners(),!0}},a.extend(a.ColorPicker,a.Container,"clone","zimContainer",!1),a.Swipe=function(b,c,d){var f,e="obj, distance, duration";if(f=zob(a.Swipe,arguments,e,this))return f;if(z_d("70"),this.cjsEventDispatcher_constructor(),zot(b)||!b.on)return void zog("zim pages - Swipe():\nPlease pass in object");zot(c)&&(c=30),zot(d)&&(d=80),this.distance=c,this.duration=d,this.active=!0;var g,h,i,j,k,l,m=this;b.on("mousedown",function(a){function c(){var b=new createjs.Event("swipe");b.obj=m.obj,b.swipeX=b.swipeY=0,m.direction="none",Math.abs(i-g)>Math.abs(j-h)?(i-g>m.distance&&(b.swipeX=1,m.direction="right"),g-i>m.distance&&(b.swipeX=-1,m.direction="left")):(j-h>m.distance&&(b.swipeY=1,m.direction="down"),h-j>m.distance&&(b.swipeY=-1,m.direction="up")),m.dispatchEvent(b)}m.active&&!a.target.zimNoSwipe&&(m.obj=a.target,i=g=a.stageX,j=h=a.stageY,k=!0,m.dispatchEvent("swipedown"),clearTimeout(l),l=setTimeout(function(){k&&(c(),k=!1)},m.duration),b.on("pressmove",function(a){i=a.stageX,j=a.stageY}),b.on("pressup",function(a){k&&(c(),k=!1,clearTimeout(l))}))}),this.disable=function(){m.active=!1},this.enable=function(){m.active=!0}},a.extend(a.Swipe,createjs.EventDispatcher,"clone","cjsEventDispatcher",!1),a.Pages=function(b,c,d,e,f){function o(){m=new createjs.Shape,m.graphics.f("black").r(0,0,j,k+1),n=new createjs.Shape,n.graphics.f("white").r(0,0,j,k+1)}var h,g="holder, pages, transition, speed, transitionTable";if(h=zob(a.Pages,arguments,g,this))return h;if(z_d("71"),this.zimContainer_constructor(),zot(b)||!b.getBounds||!b.getBounds())return void zog("zim pages - Pages():\nobject must have bounds set");zot(c)&&(c=[]),zot(d)&&(d="none"),zot(e)&&(e=200),zot(f)&&(f=[]),this.transitionTable=f,this.speed=e,this.active=!0;var m,n,i=this,j=b.getBounds().width,k=b.getBounds().height,l=this.page=c[0]?c[0].page:null;"none"==d&&f==[]||o();for(var q,r,p=["left","right","up","down"],s=0;s<c.length;s++)q=c[s],q.page.zimSwipeArray=q.swipe?q.swipe:[];this.addChild(l),this.swipe=new a.Swipe(b);var t,u=!1,v=this.swipe.on("swipe",function(a){if(i.active){var b=a.currentTarget.direction;if("none"!=b){var c="";"left"==b?c="right":"right"==b?c="left":"up"==b?c="down":"down"==b&&(c="up"),b=c;var d=p.indexOf(b);r=l.zimSwipeArray[d],t=[r,b,null,null,!0],i.page=l,i.nextPage=r,i.direction=b,i.dispatchEvent("swipe"),setTimeout(function(){u||i.go(r,b,null,null,!0)},50)}}});this.addPage=function(a,b){zot(b)&&(b=[]);var c={page:a,swipe:b};c.page.zimSwipeArray=c.swipe?c.swipe:[],l||(l=i.page=c.page,i.addChild(l))},this.removePage=function(a){i.currentPage==a&&(i.removeChild(a),b.getStage()&&b.getStage().update()),a.zimSwipeArray=null},this.setSwipe=function(a,b){zot(b)&&(b=[]);var c={page:a,swipe:b};c.page.zimSwipeArray=c.swipe?c.swipe:[]},this.pause=function(){u=!0},this.unpause=function(){u&&i.go(t[0],t[1],t[2],t[3],t[4])},this.go=function(c,f,g,h,o){
function y(a){a[0].uncache(),a[1].uncache(),i.dispatchEvent("pageTransitioned"),i.removeChild(i.lastPage),i.removeChild(m),i.removeChild(n)}function z(b){i.removeChild(i.lastPage),a.animate(b.shift(),{alpha:0},i.speed/2,null,y,b)}setTimeout(function(){u=!1},200);for(var q=[{x:j},{x:-j},{y:k},{y:-k}],r=[{x:0},{x:0},{y:0},{y:0}],s=[{x:j/2,alpha:0},{x:-j/2,alpha:0},{y:k/2,alpha:0},{y:-k/2,alpha:0}],t=d,v=e,w=0;w<i.transitionTable.length;w++)if(i.transitionTable[w][0]==l&&i.transitionTable[w][1]==c){t=i.transitionTable[w][2],v=i.transitionTable[w][3];break}if(zot(g)&&(g=t),zot(h)&&(h=v),i.speed=h,i.direction=f,""==c||null==c)i.page=l,i.dispatchEvent("nothing");else if("string"==typeof c)i.page=l,i.dispatchEvent(c);else{if(c==l)return;zot(f)&&(f="right");var x=p.indexOf(f);c.x=0,c.y=0,c.alpha=1,"slide"==g?(c.x=-(0|q[x].x),c.y=-(0|q[x].y),c.cache(0,0,(j+1)/c.scaleX,(k+1)/c.scaleY),l.cache(0,0,(j+1)/l.scaleX,(k+1)/l.scaleY),i.addChild(c),i.addChild(l),a.animate(l,q[x],i.speed,null,y,[l,c]),a.animate(c,r[x],i.speed)):"reveal"==g?(c.cache(0,0,(j+1)/c.scaleX,(k+1)/c.scaleY),l.cache(0,0,(j+1)/l.scaleX,(k+1)/l.scaleY),i.addChild(c),i.addChild(l),a.animate(l,s[x],i.speed,null,y,[l,c])):"fade"==g?(c.cache(0,0,(j+1)/c.scaleX,(k+1)/c.scaleY),l.cache(0,0,(j+1)/l.scaleX,(k+1)/l.scaleY),c.alpha=1,i.addChild(c),i.addChild(l),a.animate(l,{alpha:0},i.speed,null,y,[l,c])):"black"==g?(c.cache(0,0,(j+1)/c.scaleX,(k+1)/c.scaleY),l.cache(0,0,(j+1)/l.scaleX,(k+1)/l.scaleY),c.alpha=1,i.addChild(c),i.addChild(l),m.alpha=0,i.addChild(m),a.animate(m,{alpha:1},i.speed/2,null,z,[m,l,c])):"white"==g?(c.cache(0,0,(j+1)/c.scaleX,(k+1)/c.scaleY),l.cache(0,0,(j+1)/l.scaleX,(k+1)/l.scaleY),c.alpha=1,i.addChild(c),i.addChild(l),n.alpha=0,i.addChild(n),a.animate(n,{alpha:1},i.speed/2,null,z,[n,l,c])):(i.addChild(c),i.removeChild(l)),i.lastPage=l,i.page=c,zot(o)&&(o=!1),i.fromSwipe=o,i.dispatchEvent("page"),l=c,b.getStage()&&b.getStage().update()}},this.resize=function(){j=b.getBounds().width,k=b.getBounds().height,"none"==d&&f==[]||o()},this.puff=function(a){for(var b=0;b<c.length;b++)i.addChild(c[b].page);i.addChild(l),a>0&&setTimeout(function(){i.settle()},a)},this.settle=function(){i.removeAllChildren(),i.addChild(l),i.dispatchEvent("puffed")},this.disable=function(){i.active=!1},this.enable=function(){i.active=!0},this.dispose=function(){return i.swipe.off("swipe",v),i.removeAllChildren(),c=null,!0}},a.extend(a.Pages,a.Container,"clone","zimContainer",!1),zot(a.ACTIONEVENT)&&(a.ACTIONEVENT="mousedown"),a.HotSpots=function(b,c,d){function m(b){var e=null;if(!Array.isArray(b.rect)){if(e=b.rect,!e)return void zog("zim pages - HotSpots(): HotSpot "+b.page+" "+b.rect+" button does not exist");b.rect=[e.x,e.y,1,1]}j=new a.HotSpot(b.page,b.rect[0],b.rect[1],b.rect[2],b.rect[3],b.call,c),j.zimHSpage=b.page,j.button=e,k.push(j),j.on(g,n),e&&(j.spot.mouseEnabled=!1,j.spot.mouseChildren=!1,e.zimHScall=b.call,e.zimHSEvent=e.on(g,n,!0),d||(e.zimHSMDEvent=e.on("mousedown",function(a){a.stopImmediatePropagation()})),e.cursor="pointer")}function n(a){a.stopImmediatePropagation&&a.stopImmediatePropagation(),window.event&&(window.event.cancelBubble=!0),"function"==typeof a.currentTarget.zimHScall&&a.currentTarget.zimHScall(a)}var f,e="spots, local, mouseDowns";if(f=zob(a.HotSpots,arguments,e,this))return f;if(z_d("72"),this.zimContainer_constructor(),zot(b)||!Array.isArray(b))return void zog("zim pages - HotSpots():\nplease provide an array of HotSpot data");zot(c)&&(c=!0),zot(d)&&(d=!1);for(var i,j,g="mousedown"==a.ACTIONEVENT?"mousedown":"click",k=[],l=0;l<b.length;l++)m(b[l]);this.addHotSpot=function(a,c,d){i={page:a,rect:c,call:d},b.push(i),m(i)},this.show=function(){for(var a=0;a<k.length;a++)j=k[a],j.button||j.show()},this.hide=function(){for(var a=0;a<k.length;a++)j=k[a],j.hide()},this.removeHotSpots=function(c,e){for(var f=b.length-1;f>=0;f--)i=b[f],j=k[f],e&&!Array.isArray(e)&&(e=[e.x,e.y,e.getBounds().width,e.getBounds().height]),(zot(c)&&zot(e)||zot(e)&&c==i.page||zot(c)&&a.arraysEqual(e,i.rect)||c==i.page&&a.arraysEqual(e,i.rect))&&(b.splice(f,1),j.button&&(j.button.off(g,j.button.zimHSEvent),j.button.zimHSEvent=null,d||(j.button.off("mousedown",j.button.zimHSMDEvent),j.button.zimHSMDEvent=null)),j.off(g,n),j.dispose(),k.splice(f,1))},this.dispose=function(){for(var a=0;a<k.length;a++)j=k[a],j.button&&(j.button.off(g,j.button.zimHSEvent),j.button.zimHSCall=null,j.button.zimHSEvent=null,d||(j.button.off("mousedown",j.button.zimHSMDEvent),j.button.zimHSMDEvent=null)),j.off(g,n),j.dispose();return!0}},a.extend(a.HotSpots,a.Container,"clone","zimContainer",!1),a.HotSpot=function(b,c,d,e,f,g,h){var j,i="obj, x, y, width, height, call, local";if(j=zob(a.HotSpot,arguments,i,this))return j;if(z_d("73"),this.zimContainer_constructor(),zot(b)||!b.addChild)return void zog("zim pages - HotSpot():\nPlease pass in container object for obj");if(b instanceof createjs.Container==0)return void zog("zim pages - HotSpot():\nObjects passed in should be Containers");if(zot(c)||zot(d)||zot(e)||zot(f))return void zog("zim pages - HotSpot():\nPlease pass in x, y, width, height");zot(h)&&(h=!0),eventType="mousedown"==a.ACTIONEVENT?"mousedown":"click";var k=e,l=f,n=new createjs.Shape,o=new createjs.Shape;if(h)n.graphics.f("#999999").dr(c,d,k,l),o.graphics.f("#999999").dr(c,d,1,1);else{var p=b.globalToLocal(c,d),q=b.globalToLocal(c+k,d+l),r=q.x-p.x,s=q.y-p.y;n.graphics.f("#999999").dr(p.x,p.y,r,s),o.graphics.f("#999999").dr(p.x,p.y,1,1)}n.alpha=.4,n.mouseEnabled=!1,o.alpha=.01,o.cursor="pointer",this.spot=o;var t=o.on(eventType,function(a){"function"==typeof g&&g()});b.addChild(o),o.hitArea=n,this.show=function(){b.addChild(n)},this.hide=function(){b.removeChild(n)},this.dispose=function(){return o.off(eventType,t),b.removeChild(o),delete o,!0}},a.extend(a.HotSpot,a.Container,"clone","zimContainer",!1),a.dashedLinesOn=function(){z_d("74"),a.dashed||(a.dashed=!0,createjs.Graphics.prototype.dashedLineTo=function(a,b,c,d,e){this.moveTo(a,b);for(var f=c-a,g=d-b,h=Math.floor(Math.sqrt(f*f+g*g)/e),i=f/h,j=g/h,k=0;k++<h;)a+=i,b+=j,this[k%2==0?"moveTo":"lineTo"](a,b);return this[k%2==0?"moveTo":"lineTo"](c,d),this},createjs.Graphics.prototype.drawDashedRect=function(a,b,c,d,e){this.moveTo(a,b);var f=a+c,g=b+d;return this.dashedLineTo(a,b,f,b,e),this.dashedLineTo(f,b,f,g,e),this.dashedLineTo(f,g,a,g,e),this.dashedLineTo(a,g,a,b,e),this})},a.Manager=function(a){z_d("75");var b=this;this.items=[],this.add=function(a){b.items.push(a)},this.resize=function(){if(b)for(var a=0;a<b.items.length;a++)b.items[a].resize()||b.items.splice(a)},this.dispose=function(){zog(b.items.length);for(var a=b.items.length-1;a>=0;a--)b.items[a].dispose();return b.items=[],b=null,!0}},a.Guide=function(b,c,d,e,f){function s(b,c,d){var e=new a.Container;return e.shape=new createjs.Shape,e.shape.graphics.s(c).ss(1).f(b).r(0,0,l,m),e.shape.alpha=.9,e.addChild(e.shape),e.label=new createjs.Text("10","16px verdana",d),e.label.textAlign="center",e.label.textBaseline="middle",e.addChild(e.label),e.mouseChildren=!1,e.mouseEnabled=!1,e}function z(){clearInterval(t),"stage"==b?(j=i.getStage(),b=j):j=b.getStage(),v=b.getBounds().width,w=b.getBounds().height,c?(r.y=w/2,r.label.text="y:"+(i.pixels?Math.round(70*v/100):"70%")):(r.x=v/2,r.label.text="x:"+(i.pixels?Math.round(70*w/100):"70%")),x=new createjs.Shape,i.addChild(x),c?x.x=.7*v:x.y=.7*w,u||(b.addChild(i),C()),j.off("stagemousemove",k),k=j.on("stagemousemove",B),j.update()}function B(a){var e,f;a?(e=b.globalToLocal(a.rawX,a.rawY),A=e):e={x:A.x,y:A.y},d?c?(f=Math.round(Math.abs(e.x-x.x)/v*100),r.label.text="x:"+Math.max(0,Math.min(f,100))+"%",r.y=Math.max(o,Math.min(e.y,q))):(f=Math.round(Math.abs(e.y-x.y)/w*100),r.label.text="y:"+Math.max(0,Math.min(f,100))+"%",r.x=Math.max(n,Math.min(e.x,p))):c?(f=Math.round(Math.abs(e.x-x.x)),r.label.text="x:"+Math.max(0,Math.min(f,Math.round(v))),r.y=Math.max(o,Math.min(e.y,q))):(f=Math.round(Math.abs(e.y-x.y)),r.label.text="y:"+Math.max(0,Math.min(f,Math.round(w))),r.x=Math.max(n,Math.min(e.x,p))),j&&j.update()}function C(){u=!0,v=b.getBounds().width,w=b.getBounds().height;var d;c?(d="ew-resize",y=new createjs.Rectangle(0,0,v,0)):(d="ns-resize",y=new createjs.Rectangle(0,0,0,w)),a.noDrag(x),setTimeout(function(){a.drag(x,y,d,d,null,null,!0)},500),j.mouseMoveOutside=!0,j.enableMouseOver(10),p=v-2*l/3,q=w-m-m,x.uncache();var e=x.graphics;c?(e.c().s("rgba(0,255,255,.1)").ss(20).mt(0,0).lt(0,w),e.f().s("white").ss(2).mt(0,0).lt(0,w),e.s("#00c5af").ss(2).dashedLineTo(0,0,0,w,20),x.cache(-10,0,20,w)):(e.c().s("rgba(255,0,255,.1)").ss(20).mt(0,0).lt(v,0),e.f().s("white").ss(2).mt(0,0).lt(v,0),e.s("#d61fa0").ss(2).dashedLineTo(0,0,v,0,20),x.cache(0,-10,v,20)),c?r.x=v:r.y=w,i.addChild(r)}function D(a){a||(a=event),j&&(String.fromCharCode(a.keyCode)==e.toUpperCase()&&(i.visible=!i.visible,j.off("stagemousemove",k),i.visible&&(k=j.on("stagemousemove",B,i)),j.update()),String.fromCharCode(a.keyCode)==f.toUpperCase()&&(i.pixels=!i.pixels))}var h,g="obj, vertical, percent, hideKey, pixelKey";if(h=zob(a.Guide,arguments,g,this))return h;if(z_d("76"),this.zimContainer_constructor(),zot(b)&&(b="stage"),zot(c)&&(c=!0),!("stage"==b||b.getBounds&&b.getBounds()))return void zog("zim pages - Guide(): Please provide bounds for the obj (setBounds())");zot(d)&&(d=!0),zot(e)&&(e="G"),zot(f)&&(f="P");var j,k,i=this;a.dashedLinesOn();var p,q,r,l=80,m=26,n=l/6+l/2,o=2*m;c?(r=s("#00c5af","white","white"),r.shape.regX=l+l/6,r.shape.regY=m/2,r.label.x=-l/2-l/6):(r=s("#d61fa0","white","white"),r.shape.regX=l/2,r.shape.regY=m+m/4,r.label.y=3*-m/4);var v,w,x,y,t=setInterval(function(){"stage"==b?i&&i.getStage()&&z():b&&b.getStage()&&z()},100),u=!1,A={x:0,y:0};Object.defineProperty(this,"pixels",{get:function(){return!d},set:function(a){d=!a,i.resize()}}),window.addEventListener("keydown",D),this.resize=function(){return!!i&&(j&&(C(),B()),!0)},this.dispose=function(){return!!i&&(a.noDrag(x),clearInterval(t),i.removeAllChildren(),window.removeEventListener("keydown",D),i.parent&&i.parent.removeChild(i),i=null,!0)}},a.extend(a.Guide,a.Container,"clone","zimContainer",!1),a.GuideManager=function(){z_d("77"),a.Manager.call(this,"GuideManager")},a.GuideManager.prototype=new a.Manager,a.GuideManager.prototype.constructor=a.GuideManager,a.Grid=function(b,c,d,e,f){function q(b,c,d){var e=new a.Container;return e.shape=new createjs.Shape,e.shape.graphics.s(c).ss(1).f(b).r(0,0,m,n),e.shape.alpha=.9,e.addChild(e.shape),e.label=new createjs.Text("10","16px verdana",d),e.label.textAlign="center",e.label.textBaseline="middle",e.addChild(e.label),e.mouseChildren=!1,e.mouseEnabled=!1,e}function x(){clearInterval(v),"stage"==b?(j=i.getStage(),b=j):j=b.getStage(),w||(D(),b.addChild(i)),j.off("stagemousemove",l),l=j.on("stagemousemove",z),j.update()}function z(a){var c;a?(c=b.globalToLocal(a.rawX,a.rawY),y=c):c={x:y.x,y:y.y},d?(o.label.text="x:"+Math.max(0,Math.min(Math.round(c.x/A*100),100))+"%",o.x=Math.max(r,Math.min(c.x,t)),p.label.text="y:"+Math.max(0,Math.min(Math.round(c.y/B*100),100))+"%",p.y=Math.max(s,Math.min(c.y,u))):(o.label.text="x:"+Math.max(0,Math.min(Math.round(c.x),Math.round(A))),o.x=Math.max(r,Math.min(c.x,t)),p.label.text="y:"+Math.max(0,Math.min(Math.round(c.y),Math.round(B))),p.y=Math.max(s,Math.min(c.y,u))),j&&j.update()}function D(){w=!0,A=b.getBounds().width,B=b.getBounds().height,j.mouseMoveOutside=!0,j.enableMouseOver(10),t=A-2*m/3,u=B-n-n,C=new a.Container,i.addChild(C);var e=new createjs.Shape;C.addChild(e);var f=e.graphics;f.s(c).ss(1);var g=new createjs.Shape;if(C.addChild(g),d){for(var h=1;h<22;h++)f.mt(h*A/20,0).lt(h*A/20,B);for(var h=1;h<20;h++)f.mt(0,h*B/20).lt(A,h*B/20);e.alpha=.3,f=g.graphics,f.s(c).ss(1);for(var h=1;h<10;h++)f.mt(h*A/10,0).lt(h*A/10,B);for(var h=1;h<10;h++)f.mt(0,h*B/10).lt(A,h*B/10)}else{for(var h=0;h<A/k;h++)f.mt(h*k,0).lt(h*k,B);for(var h=0;h<B/k;h++)f.mt(0,h*k).lt(A,h*k);e.alpha=.3,f=g.graphics,f.s(c).ss(1);for(var h=0;h<A/(10*k);h++)f.mt(h*(10*k),0).lt(h*(10*k),B);for(var h=0;h<B/(10*k);h++)f.mt(0,h*(10*k)).lt(A,h*(10*k))}var l=80;f.s("#FFFFFF").ss(8),f.mt(A/2,B/2-l/2).lt(A/2,B/2+l/2),f.mt(A/2-l/2,B/2).lt(A/2+l/2,B/2),f.s("#000000").ss(4),f.mt(A/2,B/2-l/2).lt(A/2,B/2+l/2),f.mt(A/2-l/2,B/2).lt(A/2+l/2,B/2),f.s(c).ss(3),f.dr(0,0,A,B),g.alpha=.5,C.cache(0,0,A,B),i.addChild(o),i.addChild(p),j.update()}function E(a){a||(a=event),j&&(String.fromCharCode(a.keyCode)==e.toUpperCase()&&(i.visible=!i.visible,j.off("stagemousemove",l),i.visible&&(l=j.on("stagemousemove",z,i)),j.update()),String.fromCharCode(a.keyCode)==f.toUpperCase()&&(i.removeChild(C),C=null,i.pixels=!i.pixels))}var h,g="obj, color, percent, hideKey, pixelKey";if(h=zob(a.Grid,arguments,g,this))return h;if(z_d("78"),this.zimContainer_constructor(),zot(b)&&(b="stage"),zot(c)&&(c="black"),!("stage"==b||b.getBounds&&b.getBounds()))return void zog("zim pages - Grid(): Please provide bounds for the obj (setBounds())");zot(d)&&(d=!0),zot(e)&&(e="G"),zot(f)&&(f="P");var j,l,i=this,k=10;this.mouseChildren=!1,this.mouseEnabled=!1;var m=80,n=26,o=q("#dddddd",c,"#333333");o.shape.regX=m/2,o.shape.regY=-n/4,o.label.y=3*n/4;var p=q("#dddddd",c,"#333333");p.shape.regX=-m/6,p.shape.regY=n/2,p.label.x=m/2+m/6;var t,u,r=m/6+m/2,s=2*n;o.x=r,p.y=s,o.label.text="x:0",p.label.text="y:0";var A,B,C,v=setInterval(function(){"stage"==b?i&&i.getStage()&&x():b&&b.getStage()&&x()},100),w=!1,y={x:0,y:0};Object.defineProperty(this,"pixels",{get:function(){return!d},set:function(a){d=!a,i.resize()}}),window.addEventListener("keydown",E),this.resize=function(){return!!i&&(i.removeChild(C),C=null,j&&(D(),z(),setTimeout(function(){i.removeChild(C),C=null,D()},200)),!0)},this.dispose=function(){return clearInterval(v),i.removeAllChildren(),window.removeEventListener("keydown",E),i.parent&&i.parent.removeChild(i),i=null,!0}},a.extend(a.Grid,a.Container,"clone","zimContainer",!1),a.GridManager=function(){z_d("79"),a.Manager.call(this,"GridManager")},a.GridManager.prototype=new a.Manager,a.GridManager.prototype.constructor=a.GridManager,a.Layout=function(b,c,d,e,f,g,h,i){function z(){for(var a=0,b=0;b<c.length;b++)o=c[b],o.given=0,0==o[r]&&(a+=o.object.getBounds()[r]);for(var b=0;b<c.length;b++)o=c[b],0==o[r]&&(o.given=o.object.getBounds()[r]/a*y)}function A(a){a||(a=event),g&&String.fromCharCode(a.keyCode)==i.toUpperCase()&&(g.visible=!g.visible,g.getStage()&&g.getStage().update())}var k,j="holder, regions, lastMargin, backgroundColor, vertical, regionShape, scalingObject, hideKey";if(k=zob(a.Layout,arguments,j,this))return k;if(z_d("80"),this.cjsEventDispatcher_constructor(),zot(b)||!b.getBounds)return void zog("zim pages - Layout(): please provide an object with bounds set that holds the objects being laid out");if(h=zot(h)?b:h,!h.getBounds||!h.getBounds())return void zog("zim pages - Layout(): holder must have bounds set or provide a scalingObject with bounds");var l=h.getBounds();b.setBounds(0,0,l.width,l.height),zot(d)&&(d=0),zot(f)&&(f=!0),zot(e)&&(e=""),zot(i)&&(i="B"),a.dashedLinesOn();var m=new createjs.Shape,n=this;this.active=!0,this.regions=c;var o,p=0,q="minWidth",r="width",s="height",t="marginLeft",u="maxHeight",v="x",w="y";f&&(q="minHeight",r="height",s="width",t="marginTop",u="maxWidth",v="y",w="x");for(var x=0;x<c.length;x++){if(o=c[x],!o.object||!o.object.getBounds())return void zog("zim pages - Layout(): each region object must have an object with setBounds() set");o[q]||(o[q]=0),o[r]||(o[r]=0),o.backgroundColor||(o.backgroundColor=""),o.given=0,o.maxGiven=0,o[t]||(o[t]=0),o[u]||(o[u]=100),f?(o.align||(o.align="middle"),o.valign||(0==x?o.valign="top":x==c.length-1?o.valign="bottom":o.valign="middle",1==c.length&&(o.valign="middle"))):(o.valign||(o.valign="top"),o.align||(0==x?o.align="left":x==c.length-1?o.align="right":o.align="middle",1==c.length&&(o.align="middle"))),o[r]&&(o[q]=0),p+=o[r]+o[t]}if(p+=d,p>100)return void zog("zim pages - Layout(): cannot fit regions into 100% bounds");var y=100-p;z(),this.resize=function(){if(n.active){l=h.getBounds(),b.setBounds(0,0,l.width,l.height),m.graphics.clear(),""!=e&&m.graphics.f(e).r(0,0,l.width,l.height);for(var i=0;i<c.length;i++)o=c[i],o.maxGiven=0,o.marginGiven=0;for(var k,v,w,x,A,B,C,j=!0,D=y;j;){v=0,j=!1,k=!0;for(var i=0;i<c.length;i++)o=c[i],o.given>0&&0==o.maxGiven&&(w=o.object.getBounds()[r],x=o.object.getBounds()[s],A=o.given*l[r]/100,B=o[u]*l[s]/100,C=x/w*A,C>B?(j=!0,o.maxGiven=w/x*B*100/l[r],v+=o.given-o.maxGiven,D-=o.maxGiven):k=!1);if(!j)break;if(k)break;totalPrimaries=0;for(var i=0;i<c.length;i++)o=c[i],0==o[r]&&0==o.maxGiven&&(totalPrimaries+=o.object.getBounds()[r]);for(var i=0;i<c.length;i++)o=c[i],0==o[r]&&0==o.maxGiven&&(o.given=o.object.getBounds()[r]/totalPrimaries*D)}var E=!0;if(o=c[0],o.maxGiven>0?o.maxGiven<o[q]&&(o[r]=o[q],E=!1):o.given>0&&o.given<o[q]&&(o[r]=o[q],E=!1),o=c[c.length-1],o.maxGiven>0?o.maxGiven<o[q]&&(o[r]=o[q],E=!1):o.given>0&&o.given<o[q]&&(o[r]=o[q],E=!1),!E){p=0;for(var i=0;i<c.length;i++)o=c[i],p+=o[r]+o[t];return p+=d,p>100?void zog("zim build - Layout(): cannot fit regions into 100% bounds"):(y=100-p,z(),void n.resize())}for(var F=!0,G=0,H=0,i=0;i<c.length;i++)o=c[i],G+=o[t],o[r]>0?H+=o[r]:o.maxGiven>0?H+=o.maxGiven:o.given>0&&(H+=o.given),0==o[r]&&(F=!1);if(F||k){G+=d;var I=100-H-G;if(G-=d+c[0][t],0!=I&&0!=G)for(var i=0;i<c.length;i++)0!=i&&(o=c[i],o.marginGiven=o[t]/G*(G+I))}var w,x,L,M,N,J=0,K=0;if(g&&g.graphics){var O=g.graphics;O.c()}for(var i=0;i<c.length;i++)o=c[i],J+=o.marginGiven>0?o.marginGiven*l[r]/100:o[t]*l[r]/100,w=o[r]>0?o[r]:o.maxGiven>0?o.maxGiven:o.given>0?o.given:0,w=w*l[r]/100,x=o[u]*l[s]/100,K=(l[s]-x)/2,L=f?a.fit(o.object,K,J,x,w):a.fit(o.object,J,K,w,x),"top"==o.valign?o.object.y=L.bY:"bottom"==o.valign&&(o.object.y=L.bY+L.bHeight-L.height),"left"==o.align?o.object.x=L.bX:"right"==o.align&&(o.object.x=L.bX+L.bWidth-L.width),g&&g.graphics&&(O.s("white").ss(2).r(L.bX,L.bY,L.bWidth,L.bHeight),O.s("#ff8203").ss(2).drawDashedRect(L.bX,L.bY,L.bWidth,L.bHeight,20)),N=M=0,0!=J&&J+w!=l[r]||(f?N=1:M=1),x==l[s]&&(f?M=1:N=1),""!=o.backgroundColor&&m.graphics.f(o.backgroundColor).r(L.bX,L.bY,L.bWidth+M,L.bHeight+N),J+=w}},this.resize(),g&&b.addChild(g),b.addChildAt(m,0),window.addEventListener("keydown",A),this.disable=function(){n.active=!1,window.removeEventListener("keydown",A),g&&(g.alpha=0)},this.enable=function(){n.active=!0,window.addEventListener("keydown",A),n.resize(),g&&(g.alpha=1)},this.removeShape=function(){g&&(g.graphics.clear(),b.removeChild(g),g=null,g=!1),window.removeEventListener("keydown",A)},this.addShape=function(a,c){n.removeShape(),g=a,window.addEventListener("keydown",A),b.addChild(g),n.resize()},this.dispose=function(){return n.removeShape(),!0}},a.extend(a.Layout,createjs.EventDispatcher,"clone","cjsEventDispatcher",!1),a.LayoutManager=function(){z_d("81");var a=this;this.items=[],this.add=function(b){a.items.push(b)},this.resize=function(){for(var b=0;b<a.items.length;b++)a.items[b].resize()},this.disable=function(){for(var b=0;b<a.items.length;b++)a.items[b].disable()},this.enable=function(){for(var b=0;b<a.items.length;b++)a.items[b].enable()},this.dispose=function(){for(var b=0;b<a.items.length;b++)a.items[b].removeShape();return!0}},a.Parallax=function(b,c,d,e){function n(a){j.step()}var g,f="stage, damp, layers, auto";if(g=zob(a.Parallax,arguments,f,this))return g;if(z_d("68"),zot(b)||!b.getBounds)return void zog("zim build - Parallax(): please pass in the stage with bounds as first parameter");if(!b.getBounds())return void zog("zim build - Parallax(): Please give the stage bounds using setBounds()");zot(e)&&(e=!0);var h=b.getBounds().width,j=(b.getBounds().height,this);this.damp=zot(c)?.1:c,this.addLayer=function(b){if(!(zot(b.obj)||zot(b.prop)||zot(b.propChange))){var c={obj:b.obj,prop:b.prop};c[c.prop]=b.propChange,zot(b.input)&&(b.input="mouseX"),c.input=b.input;var d=zot(b.inMin)?0:b.inMin,e=zot(b.inMax)?h:b.inMax,f=zot(b.factor)?1:b.factor,g=!zot(b.integer)&&b.integer;return c["p_"+c.prop]=new a.ProportionDamp(d,e,0,c[c.prop],j.damp,f,g),"scale"==c.prop?c["s_"+c.prop]=c.obj.scaleX:"frame"==c.prop?c["s_"+c.prop]=c.obj.currentFrame:c["s_"+c.prop]=c.obj[c.prop],k.push(c),k.length-1}},this.removeLayer=function(a){if(!zot(a)){var b=k[a];b["p_"+b.prop].dispose(),k.splice(a,1)}},this.immediate=function(a){for(var b,c=0;c<k.length;c++)b=k[c],b["p_"+b.prop].immediate(a[c])},this.dispose=function(){return k=null,e&&a.Ticker.remove(m),!0},d=zot(d)?[]:d;for(var k=[],l=0;l<d.length;l++)this.addLayer(d[l]);if(e)var m=a.Ticker.add(n,b);this.step=function(c){for(var d,f,g=0;g<k.length;g++)d=k[g],zot(c)?"mouseX"==d.input?f=b.mouseX:"mouseY"==d.input?f=b.mouseY:"scrollX"==d.input?f=a.scrollX():"scrollY"==d.input&&(f=a.scrollY()):f=c,"scale"==d.prop?d.obj.scaleX=d.obj.scaleY=d["s_"+d.prop]+d["p_"+d.prop].convert(f):"frame"==d.prop?d.obj.gotoAndStop(d["s_"+d.prop]+d["p_"+d.prop].convert(f)):(d.obj[d.prop]=d["s_"+d.prop]+d["p_"+d.prop].convert(f),"mouseX"==d.input&&e&&(d.obj[d.prop]-=d[d.prop]/2))}},a.Scroller=function(b,c,d,e,f){function r(a){if(i.getStage()){if(!i.getStage().getBounds())return void zog("zim build - Scroller(): please setBounds() on stage");o||(o=i.getStage().getBounds().width,p=i.getStage().getBounds().height),0!=k.speed&&0!=k.direction&&(e?(i.x-=k.speed*k.direction,i.x<j.x?j.x=i.x+m:j.x=i.x-m,k.direction*k.speed>0?j.x<0&&i.x<j.x?i.x=j.x+m:i.x<0&&j.x<i.x&&(j.x=i.x+m):j.x>o&&j.x>i.x?j.x=i.x-m:i.x>o&&i.x>j.x&&(i.x=j.x-m)):(i.y-=k.speed*k.direction,i.y<j.y?j.y=i.y+n:j.y=i.y-n,k.direction*k.speed>0?j.y<0&&i.y<j.y?i.y=j.y+n:i.y<0&&j.y<i.y&&(j.y=i.y+n):j.y>p&&j.y>i.y?j.y=i.y-n:i.y>p&&i.y>j.y&&(i.y=j.y-n)))}}var h,g="backing, speed, direction, horizontal, gapFix";if(h=zob(a.Scroller,arguments,g,this))return h;z_d("69");var i=this.backing1=b;if(!zot(i)&&i.getBounds){var j=this.backing2=b.clone();i.parent.addChild(j),zot(e)&&(e=!0),zot(f)&&(f=0);var k=this;this.speed=zot(c)?1:c,this.direction=zot(d)?1:d;var l=e?i.scaleX:i.scaleY;if(!i.getBounds())return void zog("zim build - Scroller(): please setBounds() on backing objects");if(!i.getStage())return void zog("zim build - Scroller(): please add backing objects to stage to start");var o,p,m=i.getBounds().width*l-f,n=i.getBounds().height*l-f;e?j.x=m:j.y=n;var q=a.Ticker.add(r,i.getStage());this.dispose=function(){return zon&&zog("bye from Scroller"),a.Ticker.remove(q),!0}}},zon&&zog("ZIM FRAME"),a.Frame=function(b,c,d,e,f,g,h,i,j,k,l){function B(){if(!A){if(A=!0,p.indexOf(b)==-1){if(y=b,zot(zid(y)))return void zog("zim.Frame - scaling: HTML tag with id="+b+" must exist");z=this.tag=zid(y),b=zot(c)||zot(d)?"tag":"inline","myCanvas"==k&&(k=y+"Canvas")}zot(c)&&(c=500),zot(d)&&(d=500),C(),D(),o&&h&&setTimeout(function(){window.scrollTo(0,0)},100),q.dispatchEvent("ready"),x=!0,F(),o&&setTimeout(function(){E()},250),o&&setTimeout(function(){E(),F()},500)}}function C(){var a=q.canvas=document.createElement("canvas");a.setAttribute("id",k),u=Math.max(window.innerWidth,screen.width,window.innerHeight,screen.height),"ios"!=o&&(u*=3),"full"==b||"tag"==b?(a.setAttribute("width",u),a.setAttribute("height",u)):(a.setAttribute("width",s),a.setAttribute("height",t)),"tag"==b||"inline"==b?z.appendChild(a):document.body.appendChild(a),zot(e)||(a.style.backgroundColor=e),"full"!=b&&"fit"!=b&&"outside"!=b||(a.style.position="absolute")}function D(){E(),p.indexOf(b)!=-1&&(q.zil=zil()),r=new createjs.Stage(k),r.setBounds(0,0,s,t),f&&r.enableMouseOver(10),g&&createjs.Touch.enable(r,!0)}function E(){var f,g,c=zid(k),d=a.windowWidth(),e=a.windowHeight();if(v=q.orientation=d>e?"horizontal":"vertical",v!=w&&(w=v,q.dispatchEvent("orientation")),c){if("fit"==b)q.scale=d/e>=s/t?e/t:d/s,g=t*q.scale,f=s*q.scale;else if("outside"==b)document.body.style.overflow="hidden",q.scale=d/e>=s/t?d/s:e/t,g=t*q.scale,f=s*q.scale;else{if("full"==b)return document.body.style.overflow="hidden",c.style.left=c.style.top="0px",s=d,t=e,void(r&&r.setBounds(0,0,s,t));if("tag"==b)return s=z.offsetWidth,t=z.offsetHeight,r&&r.setBounds(0,0,s,t),z.style.overflow="hidden",void(c.style.left=c.style.top="0px");if("inline"==b)return r&&r.setBounds(0,0,s,t),void(c.style.left=c.style.top="0px")}c.style.width=f+"px",c.style.height=g+"px","left"==i?frame.x=0:"right"==i?frame.x=d-f:frame.x=(d-f)/2,"top"==j?frame.y=0:"bottom"==j?frame.y=e-g:frame.y=(e-g)/2,c.style.left=frame.x+"px",c.style.top=frame.y+"px"}}function F(){x&&q.dispatchEvent("resize")}var n,m="scaling, width, height, color, rollover, touch, scrollTop, align, valign, canvasID, rollPerSecond";if(n=zob(a.Frame,arguments,m,this))return n;z_d("83"),this.cjsEventDispatcher_constructor();var o=a.mobile();zot(b)&&(b="full"),zot(f)&&(f=!o),zot(g)&&(g=!0),zot(h)&&(h=!0),zot(i)&&(i="center"),zot(j)&&(j="center"),zot(k)&&(k="myCanvas"),zot(l)&&(l=20);var p=["fit","outside","full"];this.scale=1,this.x=0,this.y=0;var r,u,v,w,y,z,q=this,s=c,t=d,x=!1,A=!1;"interactive"===document.readyState||"complete"===document.readyState?setTimeout(function(){B()},200):document.addEventListener("DOMContentLoaded",function(){o?setTimeout(function(){B()},1500):B()}),window.addEventListener("resize",function(){E(),F(),o&&setTimeout(function(){E()},250),o&&setTimeout(function(){E(),F()},500)}),this.assets={},this.loadAssets=function(b,c,d){if(!zot(b)){zot(d)&&(d=!1),Array.isArray(b)||(b=[b]);var g,h,i,e=!1,f=[],k=/\.([^.]+)$/i;for(i=0;i<b.length;i++)g=b[i],h=g.match(k),createjs.Sound.SUPPORTED_EXTENSIONS.indexOf(h[1])>=0&&(e=!0),f.push({src:g});q.preload=new createjs.LoadQueue(d,c),e&&q.preload.installPlugin(createjs.Sound),q.preload.on("progress",function(a){q.dispatchEvent(a)}),q.preload.on("error",function(a){q.dispatchEvent(a)}),q.preload.on("fileload",function(b){var e,c=b.item,d=c.id.match(k);e=createjs.Sound.SUPPORTED_EXTENSIONS.indexOf(d[1])>=0?q.assets[c.id]={type:"sound",id:c.id,play:function(a){var b=createjs.Sound.play(c.id,a);return b.getStage=function(){return r},b}}:q.assets[c.id]=new a.Bitmap(b.result,c.id);var f=new createjs.Event("assetload");f.item=c,f.asset=e,q.dispatchEvent(f)}),q.preloadEvent=q.preload.on("complete",function(a){q.dispatchEvent(a)}),q.preload.loadManifest(f)}},this.asset=function(a){if(!zot(a))return q.assets[a]||{play:function(){if(zon)return zog("zim.Frame - asset(sound) not found"),{}}}},Object.defineProperty(q,"stage",{get:function(){return r},set:function(a){zog("zim.Frame(): stage is read only - see remakeCanvas(), perhaps")}}),Object.defineProperty(q,"width",{get:function(){return s},set:function(a){zog("zim.Frame(): width is read only - see remakeCanvas(), perhaps")}}),Object.defineProperty(q,"height",{get:function(){return t},set:function(a){zog("zim.Frame(): height is read only - see remakeCanvas(), perhaps")}}),Object.defineProperty(this,"color",{get:function(){return e},set:function(a){e=a,zot(a)?canvas.style.backgroundColor="default":canvas.style.backgroundColor=e}}),this.remakeCanvas=function(a,c){"full"!=b&&(zot(a)&&(a=s),zot(c)&&(c=t),zid(k)&&zid(k).parentNode.removeChild(zid(k)),s=a,t=c,C(),D())},this.dispose=function(){return window.removeEventListener("resize",E),r.removeAllChildren(),r.removeAllEventListeners(),zid(k)&&zid(k).parentNode.removeChild(zid(k)),r=null,q=null,!0},this.orange=this.wrap="#f58e25",this.green=this.code="#acd241",this.pink=this.create="#e472c4",this.blue=this.build="#50c4b7",this.brown=this.pages="#d1a170",this.yellow=this.distill="#ebcb35",this.silver=this.frame="#999999",this.tin=this.examples="#777777",this.grey=this.cdn="#555555",this.lighter=this.template="#eeeeee",this.light=this.docs="#cccccc",this.dark=this.bits="#333333",this.darker=this.zim="#111111",this.purple=this.github="#993399",this.clear=this.learn="rgba(0,0,0,0)",this.makeCircles=function(b){zot(b)&&(b=100);var c=[q.wrap,q.code,q.create,q.build,q.pages,q.bits],d=new a.Shape,e=d.graphics;d.radius=b;for(var f=0;f<c.length;f++)e.f(c[f]).dc(0,0,d.radius/c.length*(c.length-f));return d.setBounds(-d.radius,-d.radius,2*d.radius,2*d.radius),d}},a.extend(a.Frame,createjs.EventDispatcher,"clone","cjsEventDispatcher",!1),a.DISTILL=!1,a.distillery=[],a.distill=function(){zog("zim.distill() - go to http://zimjs.com/code/distill and enter the following:"),zog(a.distillery.length>0?a.distillery.join(" "):"must set zim.DISTILL = true;")},a)}(zim||{}),zim=function(a){return a.Wonder=function(b,c,d,e,f){function m(){j.length>0&&(a.async(f+"?wonder="+JSON.stringify(j)),j=[],l++)}function p(a,b){return zot(a)?(zog("zim.Wonder "+b+" - please provide a keyword"),!1):!i[b+"sOff"][a]}var h,g="wid, client, app, notes, server";if(h=zob(a.Wonder,arguments,g,this))return h;if(z_d("82"),zot(b))return void zog("zim.Wonder() - please provide Wonder ID (see http://zimjs.com/code/wonder/)");zot(f)&&(f="http://54.165.135.152:3001/wonder");var i=this;zot(a.wonderSession)&&(a.wonderSession="W"+a.rand(1e5,999999));var n,j=[],k=setInterval(m,1e3),l=0,o=setInterval(function(){l>28&&(j.push({id:b,c:c,a:d,n:e,k:n,t:"e",v:"frequency max - terminated",s:a.wonderSession}),zog("zim.Wonder() - frequency max - terminated"),i.dispose()),l=0},3e4);this.countsOff={},this.timesOff={},this.ordersOff={},this.count=function(f){p(f,"count")&&(n=f,j.push({id:b,c:c,a:d,n:e,k:f,t:"c",v:1,s:a.wonderSession}))};var q={};this.timeStart=function(a){p(a,"time")&&(i.timeEnd(a),n=a,q[a]=(new Date).getTime())};var r={};this.timePause=function(a){p(a,"time")&&(r[a]||(r[a]=(new Date).getTime()))},this.timeUnpause=function(a){if(p(a,"time")&&r[a]){var b=(new Date).getTime()-r[a];q[a]&&(q[a]+=b),delete r[a]}},this.timeEnd=function(f){if(p(f,"time")&&q[f]){var g=r[f]?r[f]:(new Date).getTime(),h=Math.round((g-q[f])/1e3);delete r[f],delete q[f],j.push({id:b,c:c,a:d,n:e,k:f,t:"t",v:h,s:a.wonderSession})}},this.order=function(f,g){if(p(f,"order"))return n=f,zot(g)?void zog("zim.Wonder order() - please provide an item"):void j.push({id:b,c:c,a:d,n:e,k:f,t:"o",v:g,s:a.wonderSession})},this.countOff=function(a){i.countsOff[a]=1},this.countOn=function(a){delete i.countOff[a]},this.timeOff=function(a){i.timesOff[a]=1},this.timeOn=function(a){delete i.timesOff[a]},this.orderOff=function(a){i.ordersOff[a]=1},this.orderOn=function(a){delete i.ordersOff[a]},this.dispose=function(){m(),clearInterval(k),clearInterval(o)}},a}(zim||{});
